!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).LyraPii=t()}(this,(function(){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return commonjsRequire(e,null==t?r.path:t)}},r.exports),r.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var check=function(e){return e&&e.Math==Math&&e},global_1=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof commonjsGlobal&&commonjsGlobal)||Function("return this")(),fails=function(e){try{return!!e()}catch(e){return!0}},descriptors=!fails((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),nativePropertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor&&!nativePropertyIsEnumerable.call({1:2},1),f=NASHORN_BUG?function(e){var t=getOwnPropertyDescriptor(this,e);return!!t&&t.enumerable}:nativePropertyIsEnumerable,objectPropertyIsEnumerable={f:f},createPropertyDescriptor=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},toString={}.toString,classofRaw=function(e){return toString.call(e).slice(8,-1)},split="".split,indexedObject=fails((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==classofRaw(e)?split.call(e,""):Object(e)}:Object,requireObjectCoercible=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},toIndexedObject=function(e){return indexedObject(requireObjectCoercible(e))},isObject=function(e){return"object"==typeof e?null!==e:"function"==typeof e},toPrimitive=function(e,t){if(!isObject(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!isObject(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!isObject(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!isObject(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},hasOwnProperty={}.hasOwnProperty,has=function(e,t){return hasOwnProperty.call(e,t)},document$1=global_1.document,EXISTS=isObject(document$1)&&isObject(document$1.createElement),documentCreateElement=function(e){return EXISTS?document$1.createElement(e):{}},ie8DomDefine=!descriptors&&!fails((function(){return 7!=Object.defineProperty(documentCreateElement("div"),"a",{get:function(){return 7}}).a})),nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,f$1=descriptors?nativeGetOwnPropertyDescriptor:function(e,t){if(e=toIndexedObject(e),t=toPrimitive(t,!0),ie8DomDefine)try{return nativeGetOwnPropertyDescriptor(e,t)}catch(e){}if(has(e,t))return createPropertyDescriptor(!objectPropertyIsEnumerable.f.call(e,t),e[t])},objectGetOwnPropertyDescriptor={f:f$1},anObject=function(e){if(!isObject(e))throw TypeError(String(e)+" is not an object");return e},nativeDefineProperty=Object.defineProperty,f$2=descriptors?nativeDefineProperty:function(e,t,r){if(anObject(e),t=toPrimitive(t,!0),anObject(r),ie8DomDefine)try{return nativeDefineProperty(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e},objectDefineProperty={f:f$2},createNonEnumerableProperty=descriptors?function(e,t,r){return objectDefineProperty.f(e,t,createPropertyDescriptor(1,r))}:function(e,t,r){return e[t]=r,e},setGlobal=function(e,t){try{createNonEnumerableProperty(global_1,e,t)}catch(r){global_1[e]=t}return t},SHARED="__core-js_shared__",store=global_1[SHARED]||setGlobal(SHARED,{}),sharedStore=store,functionToString=Function.toString;"function"!=typeof sharedStore.inspectSource&&(sharedStore.inspectSource=function(e){return functionToString.call(e)});var inspectSource=sharedStore.inspectSource,WeakMap=global_1.WeakMap,nativeWeakMap="function"==typeof WeakMap&&/native code/.test(inspectSource(WeakMap)),shared=createCommonjsModule((function(e){(e.exports=function(e,t){return sharedStore[e]||(sharedStore[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),id=0,postfix=Math.random(),uid=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++id+postfix).toString(36)},keys=shared("keys"),sharedKey=function(e){return keys[e]||(keys[e]=uid(e))},hiddenKeys={},WeakMap$1=global_1.WeakMap,set,get,has$1,enforce=function(e){return has$1(e)?get(e):set(e,{})},getterFor=function(e){return function(t){var r;if(!isObject(t)||(r=get(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}};if(nativeWeakMap){var store$1=new WeakMap$1,wmget=store$1.get,wmhas=store$1.has,wmset=store$1.set;set=function(e,t){return wmset.call(store$1,e,t),t},get=function(e){return wmget.call(store$1,e)||{}},has$1=function(e){return wmhas.call(store$1,e)}}else{var STATE=sharedKey("state");hiddenKeys[STATE]=!0,set=function(e,t){return createNonEnumerableProperty(e,STATE,t),t},get=function(e){return has(e,STATE)?e[STATE]:{}},has$1=function(e){return has(e,STATE)}}var internalState={set:set,get:get,has:has$1,enforce:enforce,getterFor:getterFor},redefine=createCommonjsModule((function(e){var t=internalState.get,r=internalState.enforce,n=String(String).split("String");(e.exports=function(e,t,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable,c=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||has(i,"name")||createNonEnumerableProperty(i,"name",t),r(i).source=n.join("string"==typeof t?t:"")),e!==global_1?(a?!c&&e[t]&&(s=!0):delete e[t],s?e[t]=i:createNonEnumerableProperty(e,t,i)):s?e[t]=i:setGlobal(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||inspectSource(this)}))})),path=global_1,aFunction=function(e){return"function"==typeof e?e:void 0},getBuiltIn=function(e,t){return arguments.length<2?aFunction(path[e])||aFunction(global_1[e]):path[e]&&path[e][t]||global_1[e]&&global_1[e][t]},ceil=Math.ceil,floor=Math.floor,toInteger=function(e){return isNaN(e=+e)?0:(e>0?floor:ceil)(e)},min=Math.min,toLength=function(e){return e>0?min(toInteger(e),9007199254740991):0},max=Math.max,min$1=Math.min,toAbsoluteIndex=function(e,t){var r=toInteger(e);return r<0?max(r+t,0):min$1(r,t)},createMethod=function(e){return function(t,r,n){var i,o=toIndexedObject(t),a=toLength(o.length),s=toAbsoluteIndex(n,a);if(e&&r!=r){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===r)return e||s||0;return!e&&-1}},arrayIncludes={includes:createMethod(!0),indexOf:createMethod(!1)},indexOf=arrayIncludes.indexOf,objectKeysInternal=function(e,t){var r,n=toIndexedObject(e),i=0,o=[];for(r in n)!has(hiddenKeys,r)&&has(n,r)&&o.push(r);for(;t.length>i;)has(n,r=t[i++])&&(~indexOf(o,r)||o.push(r));return o},enumBugKeys=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],hiddenKeys$1=enumBugKeys.concat("length","prototype"),f$3=Object.getOwnPropertyNames||function(e){return objectKeysInternal(e,hiddenKeys$1)},objectGetOwnPropertyNames={f:f$3},f$4=Object.getOwnPropertySymbols,objectGetOwnPropertySymbols={f:f$4},ownKeys$1=getBuiltIn("Reflect","ownKeys")||function(e){var t=objectGetOwnPropertyNames.f(anObject(e)),r=objectGetOwnPropertySymbols.f;return r?t.concat(r(e)):t},copyConstructorProperties=function(e,t){for(var r=ownKeys$1(t),n=objectDefineProperty.f,i=objectGetOwnPropertyDescriptor.f,o=0;o<r.length;o++){var a=r[o];has(e,a)||n(e,a,i(t,a))}},replacement=/#|\.prototype\./,isForced=function(e,t){var r=data[normalize(e)];return r==POLYFILL||r!=NATIVE&&("function"==typeof t?fails(t):!!t)},normalize=isForced.normalize=function(e){return String(e).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P",isForced_1=isForced,getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,_export=function(e,t){var r,n,i,o,a,s=e.target,c=e.global,l=e.stat;if(r=c?global_1:l?global_1[s]||setGlobal(s,{}):(global_1[s]||{}).prototype)for(n in t){if(o=t[n],i=e.noTargetGet?(a=getOwnPropertyDescriptor$1(r,n))&&a.value:r[n],!isForced_1(c?n:s+(l?".":"#")+n,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;copyConstructorProperties(o,i)}(e.sham||i&&i.sham)&&createNonEnumerableProperty(o,"sham",!0),redefine(r,n,o,e)}},aFunction$1=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},functionBindContext=function(e,t,r){if(aFunction$1(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}},toObject=function(e){return Object(requireObjectCoercible(e))},isArray=Array.isArray||function(e){return"Array"==classofRaw(e)},nativeSymbol=!!Object.getOwnPropertySymbols&&!fails((function(){return!String(Symbol())})),useSymbolAsUid=nativeSymbol&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,WellKnownSymbolsStore=shared("wks"),Symbol$1=global_1.Symbol,createWellKnownSymbol=useSymbolAsUid?Symbol$1:Symbol$1&&Symbol$1.withoutSetter||uid,wellKnownSymbol=function(e){return has(WellKnownSymbolsStore,e)||(nativeSymbol&&has(Symbol$1,e)?WellKnownSymbolsStore[e]=Symbol$1[e]:WellKnownSymbolsStore[e]=createWellKnownSymbol("Symbol."+e)),WellKnownSymbolsStore[e]},SPECIES=wellKnownSymbol("species"),arraySpeciesCreate=function(e,t){var r;return isArray(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!isArray(r.prototype)?isObject(r)&&null===(r=r[SPECIES])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)},push=[].push,createMethod$1=function(e){var t=1==e,r=2==e,n=3==e,i=4==e,o=6==e,a=5==e||o;return function(s,c,l,u){for(var p,f,h=toObject(s),d=indexedObject(h),y=functionBindContext(c,l,3),g=toLength(d.length),m=0,S=u||arraySpeciesCreate,E=t?S(s,g):r?S(s,0):void 0;g>m;m++)if((a||m in d)&&(f=y(p=d[m],m,h),e))if(t)E[m]=f;else if(f)switch(e){case 3:return!0;case 5:return p;case 6:return m;case 2:push.call(E,p)}else if(i)return!1;return o?-1:n||i?i:E}},arrayIteration={forEach:createMethod$1(0),map:createMethod$1(1),filter:createMethod$1(2),some:createMethod$1(3),every:createMethod$1(4),find:createMethod$1(5),findIndex:createMethod$1(6)},engineUserAgent=getBuiltIn("navigator","userAgent")||"",process$1=global_1.process,versions=process$1&&process$1.versions,v8=versions&&versions.v8,match,version;v8?(match=v8.split("."),version=match[0]+match[1]):engineUserAgent&&(match=engineUserAgent.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=engineUserAgent.match(/Chrome\/(\d+)/),match&&(version=match[1])));var engineV8Version=version&&+version,SPECIES$1=wellKnownSymbol("species"),arrayMethodHasSpeciesSupport=function(e){return engineV8Version>=51||!fails((function(){var t=[];return(t.constructor={})[SPECIES$1]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},defineProperty=Object.defineProperty,cache={},thrower=function(e){throw e},arrayMethodUsesToLength=function(e,t){if(has(cache,e))return cache[e];t||(t={});var r=[][e],n=!!has(t,"ACCESSORS")&&t.ACCESSORS,i=has(t,0)?t[0]:thrower,o=has(t,1)?t[1]:void 0;return cache[e]=!!r&&!fails((function(){if(n&&!descriptors)return!0;var e={length:-1};n?defineProperty(e,1,{enumerable:!0,get:thrower}):e[1]=1,r.call(e,i,o)}))},$filter=arrayIteration.filter,HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("filter"),USES_TO_LENGTH=arrayMethodUsesToLength("filter");_export({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT||!USES_TO_LENGTH},{filter:function(e){return $filter(this,e,arguments.length>1?arguments[1]:void 0)}});var objectKeys=Object.keys||function(e){return objectKeysInternal(e,enumBugKeys)},objectDefineProperties=descriptors?Object.defineProperties:function(e,t){anObject(e);for(var r,n=objectKeys(t),i=n.length,o=0;i>o;)objectDefineProperty.f(e,r=n[o++],t[r]);return e},html=getBuiltIn("document","documentElement"),GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO=sharedKey("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(e){return LT+SCRIPT+GT+e+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(e){e.write(scriptTag("")),e.close();var t=e.parentWindow.Object;return e=null,t},NullProtoObjectViaIFrame=function(){var e,t=documentCreateElement("iframe"),r="java"+SCRIPT+":";return t.style.display="none",html.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(scriptTag("document.F=Object")),e.close(),e.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=document.domain&&new ActiveXObject("htmlfile")}catch(e){}NullProtoObject=activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame();for(var e=enumBugKeys.length;e--;)delete NullProtoObject[PROTOTYPE][enumBugKeys[e]];return NullProtoObject()};hiddenKeys[IE_PROTO]=!0;var objectCreate=Object.create||function(e,t){var r;return null!==e?(EmptyConstructor[PROTOTYPE]=anObject(e),r=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,r[IE_PROTO]=e):r=NullProtoObject(),void 0===t?r:objectDefineProperties(r,t)},UNSCOPABLES=wellKnownSymbol("unscopables"),ArrayPrototype=Array.prototype;null==ArrayPrototype[UNSCOPABLES]&&objectDefineProperty.f(ArrayPrototype,UNSCOPABLES,{configurable:!0,value:objectCreate(null)});var addToUnscopables=function(e){ArrayPrototype[UNSCOPABLES][e]=!0},$find=arrayIteration.find,FIND="find",SKIPS_HOLES=!0,USES_TO_LENGTH$1=arrayMethodUsesToLength(FIND);FIND in[]&&Array(1)[FIND]((function(){SKIPS_HOLES=!1})),_export({target:"Array",proto:!0,forced:SKIPS_HOLES||!USES_TO_LENGTH$1},{find:function(e){return $find(this,e,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables(FIND);var arrayMethodIsStrict=function(e,t){var r=[][e];return!!r&&fails((function(){r.call(null,t||function(){throw 1},1)}))},$forEach=arrayIteration.forEach,STRICT_METHOD=arrayMethodIsStrict("forEach"),USES_TO_LENGTH$2=arrayMethodUsesToLength("forEach"),arrayForEach=STRICT_METHOD&&USES_TO_LENGTH$2?[].forEach:function(e){return $forEach(this,e,arguments.length>1?arguments[1]:void 0)};_export({target:"Array",proto:!0,forced:[].forEach!=arrayForEach},{forEach:arrayForEach});var FAILS_ON_PRIMITIVES=fails((function(){objectKeys(1)}));_export({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES},{keys:function(e){return objectKeys(toObject(e))}});var aPossiblePrototype=function(e){if(!isObject(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e},objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return anObject(r),aPossiblePrototype(n),t?e.call(r,n):r.__proto__=n,r}}():void 0),inheritIfRequired=function(e,t,r){var n,i;return objectSetPrototypeOf&&"function"==typeof(n=t.constructor)&&n!==r&&isObject(i=n.prototype)&&i!==r.prototype&&objectSetPrototypeOf(e,i),e},MATCH=wellKnownSymbol("match"),isRegexp=function(e){var t;return isObject(e)&&(void 0!==(t=e[MATCH])?!!t:"RegExp"==classofRaw(e))},regexpFlags=function(){var e=anObject(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function RE(e,t){return RegExp(e,t)}var UNSUPPORTED_Y=fails((function(){var e=RE("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET=fails((function(){var e=RE("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),regexpStickyHelpers={UNSUPPORTED_Y:UNSUPPORTED_Y,BROKEN_CARET:BROKEN_CARET},SPECIES$2=wellKnownSymbol("species"),setSpecies=function(e){var t=getBuiltIn(e),r=objectDefineProperty.f;descriptors&&t&&!t[SPECIES$2]&&r(t,SPECIES$2,{configurable:!0,get:function(){return this}})},defineProperty$1=objectDefineProperty.f,getOwnPropertyNames=objectGetOwnPropertyNames.f,setInternalState=internalState.set,MATCH$1=wellKnownSymbol("match"),NativeRegExp=global_1.RegExp,RegExpPrototype=NativeRegExp.prototype,re1=/a/g,re2=/a/g,CORRECT_NEW=new NativeRegExp(re1)!==re1,UNSUPPORTED_Y$1=regexpStickyHelpers.UNSUPPORTED_Y,FORCED=descriptors&&isForced_1("RegExp",!CORRECT_NEW||UNSUPPORTED_Y$1||fails((function(){return re2[MATCH$1]=!1,NativeRegExp(re1)!=re1||NativeRegExp(re2)==re2||"/a/i"!=NativeRegExp(re1,"i")})));if(FORCED){for(var RegExpWrapper=function(e,t){var r,n=this instanceof RegExpWrapper,i=isRegexp(e),o=void 0===t;if(!n&&i&&e.constructor===RegExpWrapper&&o)return e;CORRECT_NEW?i&&!o&&(e=e.source):e instanceof RegExpWrapper&&(o&&(t=regexpFlags.call(e)),e=e.source),UNSUPPORTED_Y$1&&(r=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var a=inheritIfRequired(CORRECT_NEW?new NativeRegExp(e,t):NativeRegExp(e,t),n?this:RegExpPrototype,RegExpWrapper);return UNSUPPORTED_Y$1&&r&&setInternalState(a,{sticky:r}),a},proxy=function(e){e in RegExpWrapper||defineProperty$1(RegExpWrapper,e,{configurable:!0,get:function(){return NativeRegExp[e]},set:function(t){NativeRegExp[e]=t}})},keys$1=getOwnPropertyNames(NativeRegExp),index=0;keys$1.length>index;)proxy(keys$1[index++]);RegExpPrototype.constructor=RegExpWrapper,RegExpWrapper.prototype=RegExpPrototype,redefine(global_1,"RegExp",RegExpWrapper)}setSpecies("RegExp");var nativeExec=RegExp.prototype.exec,nativeReplace=String.prototype.replace,patchedExec=nativeExec,UPDATES_LAST_INDEX_WRONG=function(){var e=/a/,t=/b*/g;return nativeExec.call(e,"a"),nativeExec.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),UNSUPPORTED_Y$2=regexpStickyHelpers.UNSUPPORTED_Y||regexpStickyHelpers.BROKEN_CARET,NPCG_INCLUDED=void 0!==/()??/.exec("")[1],PATCH=UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED||UNSUPPORTED_Y$2;PATCH&&(patchedExec=function(e){var t,r,n,i,o=this,a=UNSUPPORTED_Y$2&&o.sticky,s=regexpFlags.call(o),c=o.source,l=0,u=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),u=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(c="(?: "+c+")",u=" "+u,l++),r=new RegExp("^(?:"+c+")",s)),NPCG_INCLUDED&&(r=new RegExp("^"+c+"$(?!\\s)",s)),UPDATES_LAST_INDEX_WRONG&&(t=o.lastIndex),n=nativeExec.call(a?r:o,u),a?n?(n.input=n.input.slice(l),n[0]=n[0].slice(l),n.index=o.lastIndex,o.lastIndex+=n[0].length):o.lastIndex=0:UPDATES_LAST_INDEX_WRONG&&n&&(o.lastIndex=o.global?n.index+n[0].length:t),NPCG_INCLUDED&&n&&n.length>1&&nativeReplace.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n});var regexpExec=patchedExec;_export({target:"RegExp",proto:!0,forced:/./.exec!==regexpExec},{exec:regexpExec});var TO_STRING="toString",RegExpPrototype$1=RegExp.prototype,nativeToString=RegExpPrototype$1[TO_STRING],NOT_GENERIC=fails((function(){return"/a/b"!=nativeToString.call({source:"a",flags:"b"})})),INCORRECT_NAME=nativeToString.name!=TO_STRING;(NOT_GENERIC||INCORRECT_NAME)&&redefine(RegExp.prototype,TO_STRING,(function(){var e=anObject(this),t=String(e.source),r=e.flags;return"/"+t+"/"+String(void 0===r&&e instanceof RegExp&&!("flags"in RegExpPrototype$1)?regexpFlags.call(e):r)}),{unsafe:!0});var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var COLLECTION_NAME in domIterables){var Collection=global_1[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;if(CollectionPrototype&&CollectionPrototype.forEach!==arrayForEach)try{createNonEnumerableProperty(CollectionPrototype,"forEach",arrayForEach)}catch(e){CollectionPrototype.forEach=arrayForEach}}var PiiPatternService=function(){function e(){_classCallCheck(this,e),this.patterns={}}return _createClass(e,[{key:"addPatterns",value:function(e){var t=this;Object.keys(e).forEach((function(r){var n=e[r];t.patterns[r]={kind:n.kind,tags:n.tags},"regex"===n.kind?(t.patterns[r].pattern=n,t.patterns[r].patternCompiled=new RegExp(n.pattern)):"json"===n.kind&&(t.patterns[r].path=n.path)}))}},{key:"getPattern",value:function(e){return this.patterns[e]}},{key:"getPatterns",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r={};return Object.keys(this.patterns).filter((function(r){var n=e.patterns[r];return n.tags&&n.tags.find((function(e){return t.find((function(t){return e===t}))}))})).forEach((function(t){r[t]=e.patterns[t]})),r}}]),e}(),nativeJoin=[].join,ES3_STRINGS=indexedObject!=Object,STRICT_METHOD$1=arrayMethodIsStrict("join",",");_export({target:"Array",proto:!0,forced:ES3_STRINGS||!STRICT_METHOD$1},{join:function(e){return nativeJoin.call(toIndexedObject(this),void 0===e?",":e)}});var $map=arrayIteration.map,HAS_SPECIES_SUPPORT$1=arrayMethodHasSpeciesSupport("map"),USES_TO_LENGTH$3=arrayMethodUsesToLength("map");_export({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$1||!USES_TO_LENGTH$3},{map:function(e){return $map(this,e,arguments.length>1?arguments[1]:void 0)}});var createProperty=function(e,t,r){var n=toPrimitive(t);n in e?objectDefineProperty.f(e,n,createPropertyDescriptor(0,r)):e[n]=r},HAS_SPECIES_SUPPORT$2=arrayMethodHasSpeciesSupport("slice"),USES_TO_LENGTH$4=arrayMethodUsesToLength("slice",{ACCESSORS:!0,0:0,1:2}),SPECIES$3=wellKnownSymbol("species"),nativeSlice=[].slice,max$1=Math.max;_export({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$2||!USES_TO_LENGTH$4},{slice:function(e,t){var r,n,i,o=toIndexedObject(this),a=toLength(o.length),s=toAbsoluteIndex(e,a),c=toAbsoluteIndex(void 0===t?a:t,a);if(isArray(o)&&("function"!=typeof(r=o.constructor)||r!==Array&&!isArray(r.prototype)?isObject(r)&&null===(r=r[SPECIES$3])&&(r=void 0):r=void 0,r===Array||void 0===r))return nativeSlice.call(o,s,c);for(n=new(void 0===r?Array:r)(max$1(c-s,0)),i=0;s<c;s++,i++)s in o&&createProperty(n,i,o[s]);return n.length=i,n}});var TO_STRING_TAG=wellKnownSymbol("toStringTag"),test={};test[TO_STRING_TAG]="z";var toStringTagSupport="[object z]"===String(test),TO_STRING_TAG$1=wellKnownSymbol("toStringTag"),CORRECT_ARGUMENTS="Arguments"==classofRaw(function(){return arguments}()),tryGet=function(e,t){try{return e[t]}catch(e){}},classof=toStringTagSupport?classofRaw:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=tryGet(t=Object(e),TO_STRING_TAG$1))?r:CORRECT_ARGUMENTS?classofRaw(t):"Object"==(n=classofRaw(t))&&"function"==typeof t.callee?"Arguments":n},objectToString=toStringTagSupport?{}.toString:function(){return"[object "+classof(this)+"]"};toStringTagSupport||redefine(Object.prototype,"toString",objectToString,{unsafe:!0});var SPECIES$4=wellKnownSymbol("species"),REPLACE_SUPPORTS_NAMED_GROUPS=!fails((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),REPLACE_KEEPS_$0="$0"==="a".replace(/./,"$0"),REPLACE=wellKnownSymbol("replace"),REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE=!!/./[REPLACE]&&""===/./[REPLACE]("a","$0"),SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=!fails((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),fixRegexpWellKnownSymbolLogic=function(e,t,r,n){var i=wellKnownSymbol(e),o=!fails((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),a=o&&!fails((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[SPECIES$4]=function(){return r},r.flags="",r[i]=/./[i]),r.exec=function(){return t=!0,null},r[i](""),!t}));if(!o||!a||"replace"===e&&(!REPLACE_SUPPORTS_NAMED_GROUPS||!REPLACE_KEEPS_$0||REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE)||"split"===e&&!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC){var s=/./[i],c=r(i,""[e],(function(e,t,r,n,i){return t.exec===regexpExec?o&&!i?{done:!0,value:s.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:REPLACE_KEEPS_$0,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE}),l=c[0],u=c[1];redefine(String.prototype,e,l),redefine(RegExp.prototype,i,2==t?function(e,t){return u.call(e,this,t)}:function(e){return u.call(e,this)})}n&&createNonEnumerableProperty(RegExp.prototype[i],"sham",!0)},createMethod$2=function(e){return function(t,r){var n,i,o=String(requireObjectCoercible(t)),a=toInteger(r),s=o.length;return a<0||a>=s?e?"":void 0:(n=o.charCodeAt(a))<55296||n>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):n:e?o.slice(a,a+2):i-56320+(n-55296<<10)+65536}},stringMultibyte={codeAt:createMethod$2(!1),charAt:createMethod$2(!0)},charAt=stringMultibyte.charAt,advanceStringIndex=function(e,t,r){return t+(r?charAt(e,t).length:1)},regexpExecAbstract=function(e,t){var r=e.exec;if("function"==typeof r){var n=r.call(e,t);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==classofRaw(e))throw TypeError("RegExp#exec called on incompatible receiver");return regexpExec.call(e,t)},max$2=Math.max,min$2=Math.min,floor$1=Math.floor,SUBSTITUTION_SYMBOLS=/\$([$&'`]|\d\d?|<[^>]*>)/g,SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&'`]|\d\d?)/g,maybeToString=function(e){return void 0===e?e:String(e)};fixRegexpWellKnownSymbolLogic("replace",2,(function(e,t,r,n){var i=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=n.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(r,n){var i=requireObjectCoercible(this),o=null==r?void 0:r[e];return void 0!==o?o.call(r,i,n):t.call(String(i),r,n)},function(e,n){if(!i&&o||"string"==typeof n&&-1===n.indexOf(a)){var c=r(t,e,this,n);if(c.done)return c.value}var l=anObject(e),u=String(this),p="function"==typeof n;p||(n=String(n));var f=l.global;if(f){var h=l.unicode;l.lastIndex=0}for(var d=[];;){var y=regexpExecAbstract(l,u);if(null===y)break;if(d.push(y),!f)break;""===String(y[0])&&(l.lastIndex=advanceStringIndex(u,toLength(l.lastIndex),h))}for(var g="",m=0,S=0;S<d.length;S++){y=d[S];for(var E=String(y[0]),v=max$2(min$2(toInteger(y.index),u.length),0),b=[],_=1;_<y.length;_++)b.push(maybeToString(y[_]));var x=y.groups;if(p){var O=[E].concat(b,v,u);void 0!==x&&O.push(x);var R=String(n.apply(void 0,O))}else R=s(E,u,v,b,x,n);v>=m&&(g+=u.slice(m,v)+R,m=v+E.length)}return g+u.slice(m)}];function s(e,r,n,i,o,a){var s=n+e.length,c=i.length,l=SUBSTITUTION_SYMBOLS_NO_NAMED;return void 0!==o&&(o=toObject(o),l=SUBSTITUTION_SYMBOLS),t.call(a,l,(function(t,a){var l;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(s);case"<":l=o[a.slice(1,-1)];break;default:var u=+a;if(0===u)return t;if(u>c){var p=floor$1(u/10);return 0===p?t:p<=c?void 0===i[p-1]?a.charAt(1):i[p-1]+a.charAt(1):t}l=i[u-1]}return void 0===l?"":l}))}}));var sha256=createCommonjsModule((function(module){
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
(function(){var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(r){return new Sha256(t,!0).update(r)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createOutputMethod(n,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(r,n){return new HmacSha256(r,t,!0).update(n)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,r){return t.create(e).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createHmacOutputMethod(n,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,r){var n,i=typeof e;if("string"===i){var o,a=[],s=e.length,c=0;for(n=0;n<s;++n)(o=e.charCodeAt(n))<128?a[c++]=o:o<2048?(a[c++]=192|o>>6,a[c++]=128|63&o):o<55296||o>=57344?(a[c++]=224|o>>12,a[c++]=128|o>>6&63,a[c++]=128|63&o):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++n)),a[c++]=240|o>>18,a[c++]=128|o>>12&63,a[c++]=128|o>>6&63,a[c++]=128|63&o);e=a}else{if("object"!==i)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var l=[],u=[];for(n=0;n<64;++n){var p=e[n]||0;l[n]=92^p,u[n]=54^p}Sha256.call(this,t,r),this.update(u),this.oKeyPad=l,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var n,i,o=0,a=e.length,s=this.blocks;o<a;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),t)for(i=this.start;o<a&&i<64;++o)s[i>>2]|=e[o]<<SHIFT[3&i++];else for(i=this.start;o<a&&i<64;++o)(n=e.charCodeAt(o))<128?s[i>>2]|=n<<SHIFT[3&i++]:n<2048?(s[i>>2]|=(192|n>>6)<<SHIFT[3&i++],s[i>>2]|=(128|63&n)<<SHIFT[3&i++]):n<55296||n>=57344?(s[i>>2]|=(224|n>>12)<<SHIFT[3&i++],s[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&n)<<SHIFT[3&i++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++o)),s[i>>2]|=(240|n>>18)<<SHIFT[3&i++],s[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++],s[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=s[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,r,n,i,o,a,s,c,l=this.h0,u=this.h1,p=this.h2,f=this.h3,h=this.h4,d=this.h5,y=this.h6,g=this.h7,m=this.blocks;for(e=16;e<64;++e)t=((i=m[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=m[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,m[e]=m[e-16]+t+m[e-7]+r<<0;for(c=u&p,e=0;e<64;e+=4)this.first?(this.is224?(o=300032,g=(i=m[0]-1413257819)-150054599<<0,f=i+24177077<<0):(o=704751109,g=(i=m[0]-210244248)-1521486534<<0,f=i+143694565<<0),this.first=!1):(t=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(o=l&u)^l&p^c,g=f+(i=g+(r=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&d^~h&y)+K[e]+m[e])<<0,f=i+(t+n)<<0),t=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(a=f&l)^f&u^o,y=p+(i=y+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&h^~g&d)+K[e+1]+m[e+1])<<0,t=((p=i+(t+n)<<0)>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),n=(s=p&f)^p&l^a,d=u+(i=d+(r=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&g^~y&h)+K[e+2]+m[e+2])<<0,t=((u=i+(t+n)<<0)>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),n=(c=u&p)^u&f^s,h=l+(i=h+(r=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&y^~d&g)+K[e+3]+m[e+3])<<0,l=i+(t+n)<<0;this.h0=this.h0+l<<0,this.h1=this.h1+u<<0,this.h2=this.h2+p<<0,this.h3=this.h3+f<<0,this.h4=this.h4+h<<0,this.h5=this.h5+d<<0,this.h6=this.h6+y<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,c=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a];return this.is224||(c+=HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]),c},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,c=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,a>>24&255,a>>16&255,a>>8&255,255&a];return this.is224||c.push(s>>24&255,s>>16&255,s>>8&255,255&s),c},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})),jsonpath_min=createCommonjsModule((function(e,t){
/*! jsonpath 1.0.2 */
e.exports=function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var c="function"==typeof commonjsRequire&&commonjsRequire;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[a]={exports:{}};t[a][0].call(u.exports,(function(e){return i(t[a][1][e]||e)}),u,u.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof commonjsRequire&&commonjsRequire,a=0;a<n.length;a++)i(n[a]);return i}({"./aesprim":[function(e,t,r){!function(e,t){t(void 0!==r?r:e.esprima={})}(this,(function(e){function t(e,t){if(!e)throw new Error("ASSERT: "+t)}function r(e){return e>=48&&e<=57}function n(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function i(e){return"01234567".indexOf(e)>=0}function o(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function a(e){return 10===e||13===e||8232===e||8233===e}function s(e){return 64==e||36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&it.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function c(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&it.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function l(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function u(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function p(e){return"eval"===e||"arguments"===e}function f(e){if(st&&u(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function h(e,r,n,i,o){var a;t("number"==typeof n,"Comment must have valid position"),dt.lastCommentStart>=n||(dt.lastCommentStart=n,a={type:e,value:r},yt.range&&(a.range=[n,i]),yt.loc&&(a.loc=o),yt.comments.push(a),yt.attachComment&&(yt.leadingComments.push(a),yt.trailingComments.push(a)))}function d(e){var t,r,n,i;for(t=ct-e,r={start:{line:lt,column:ct-ut-e}};ct<pt;)if(n=at.charCodeAt(ct),++ct,a(n))return yt.comments&&(i=at.slice(t+e,ct-1),r.end={line:lt,column:ct-ut-1},h("Line",i,t,ct-1,r)),13===n&&10===at.charCodeAt(ct)&&++ct,++lt,void(ut=ct);yt.comments&&(i=at.slice(t+e,ct),r.end={line:lt,column:ct-ut},h("Line",i,t,ct,r))}function y(){var e,t,r,n;for(yt.comments&&(e=ct-2,t={start:{line:lt,column:ct-ut-2}});ct<pt;)if(a(r=at.charCodeAt(ct)))13===r&&10===at.charCodeAt(ct+1)&&++ct,++lt,++ct,ut=ct,ct>=pt&&U({},nt.UnexpectedToken,"ILLEGAL");else if(42===r){if(47===at.charCodeAt(ct+1))return++ct,++ct,void(yt.comments&&(n=at.slice(e+2,ct-2),t.end={line:lt,column:ct-ut},h("Block",n,e,ct,t)));++ct}else++ct;U({},nt.UnexpectedToken,"ILLEGAL")}function g(){var e,t;for(t=0===ct;ct<pt;)if(o(e=at.charCodeAt(ct)))++ct;else if(a(e))++ct,13===e&&10===at.charCodeAt(ct)&&++ct,++lt,ut=ct,t=!0;else if(47===e)if(47===(e=at.charCodeAt(ct+1)))++ct,++ct,d(2),t=!0;else{if(42!==e)break;++ct,++ct,y()}else if(t&&45===e){if(45!==at.charCodeAt(ct+1)||62!==at.charCodeAt(ct+2))break;ct+=3,d(3)}else{if(60!==e)break;if("!--"!==at.slice(ct+1,ct+4))break;++ct,++ct,++ct,++ct,d(4)}}function m(e){var t,r,i,o=0;for(r="u"===e?4:2,t=0;t<r;++t){if(!(ct<pt&&n(at[ct])))return"";i=at[ct++],o=16*o+"0123456789abcdef".indexOf(i.toLowerCase())}return String.fromCharCode(o)}function S(){var e,t;for(e=at.charCodeAt(ct++),t=String.fromCharCode(e),92===e&&(117!==at.charCodeAt(ct)&&U({},nt.UnexpectedToken,"ILLEGAL"),++ct,(e=m("u"))&&"\\"!==e&&s(e.charCodeAt(0))||U({},nt.UnexpectedToken,"ILLEGAL"),t=e);ct<pt&&c(e=at.charCodeAt(ct));)++ct,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==at.charCodeAt(ct)&&U({},nt.UnexpectedToken,"ILLEGAL"),++ct,(e=m("u"))&&"\\"!==e&&c(e.charCodeAt(0))||U({},nt.UnexpectedToken,"ILLEGAL"),t+=e);return t}function E(){var e,t;for(e=ct++;ct<pt;){if(92===(t=at.charCodeAt(ct)))return ct=e,S();if(!c(t))break;++ct}return at.slice(e,ct)}function v(){var e,t;return e=ct,{type:1===(t=92===at.charCodeAt(ct)?S():E()).length?Ze.Identifier:f(t)?Ze.Keyword:"null"===t?Ze.NullLiteral:"true"===t||"false"===t?Ze.BooleanLiteral:Ze.Identifier,value:t,lineNumber:lt,lineStart:ut,start:e,end:ct}}function b(){var e,t,r,n,i=ct,o=at.charCodeAt(ct),a=at[ct];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ct,yt.tokenize&&(40===o?yt.openParenToken=yt.tokens.length:123===o&&(yt.openCurlyToken=yt.tokens.length)),{type:Ze.Punctuator,value:String.fromCharCode(o),lineNumber:lt,lineStart:ut,start:i,end:ct};default:if(61===(e=at.charCodeAt(ct+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ct+=2,{type:Ze.Punctuator,value:String.fromCharCode(o)+String.fromCharCode(e),lineNumber:lt,lineStart:ut,start:i,end:ct};case 33:case 61:return ct+=2,61===at.charCodeAt(ct)&&++ct,{type:Ze.Punctuator,value:at.slice(i,ct),lineNumber:lt,lineStart:ut,start:i,end:ct}}}return">>>="===(n=at.substr(ct,4))?(ct+=4,{type:Ze.Punctuator,value:n,lineNumber:lt,lineStart:ut,start:i,end:ct}):">>>"===(r=n.substr(0,3))||"<<="===r||">>="===r?(ct+=3,{type:Ze.Punctuator,value:r,lineNumber:lt,lineStart:ut,start:i,end:ct}):a===(t=r.substr(0,2))[1]&&"+-<>&|".indexOf(a)>=0||"=>"===t?(ct+=2,{type:Ze.Punctuator,value:t,lineNumber:lt,lineStart:ut,start:i,end:ct}):"<>=!+-*%&|^/".indexOf(a)>=0?(++ct,{type:Ze.Punctuator,value:a,lineNumber:lt,lineStart:ut,start:i,end:ct}):void U({},nt.UnexpectedToken,"ILLEGAL")}function _(e){for(var t="";ct<pt&&n(at[ct]);)t+=at[ct++];return 0===t.length&&U({},nt.UnexpectedToken,"ILLEGAL"),s(at.charCodeAt(ct))&&U({},nt.UnexpectedToken,"ILLEGAL"),{type:Ze.NumericLiteral,value:parseInt("0x"+t,16),lineNumber:lt,lineStart:ut,start:e,end:ct}}function x(e){for(var t="0"+at[ct++];ct<pt&&i(at[ct]);)t+=at[ct++];return(s(at.charCodeAt(ct))||r(at.charCodeAt(ct)))&&U({},nt.UnexpectedToken,"ILLEGAL"),{type:Ze.NumericLiteral,value:parseInt(t,8),octal:!0,lineNumber:lt,lineStart:ut,start:e,end:ct}}function O(){var e,n,o;if(t(r((o=at[ct]).charCodeAt(0))||"."===o,"Numeric literal must start with a decimal digit or a decimal point"),n=ct,e="","."!==o){if(e=at[ct++],o=at[ct],"0"===e){if("x"===o||"X"===o)return++ct,_(n);if(i(o))return x(n);o&&r(o.charCodeAt(0))&&U({},nt.UnexpectedToken,"ILLEGAL")}for(;r(at.charCodeAt(ct));)e+=at[ct++];o=at[ct]}if("."===o){for(e+=at[ct++];r(at.charCodeAt(ct));)e+=at[ct++];o=at[ct]}if("e"===o||"E"===o)if(e+=at[ct++],"+"!==(o=at[ct])&&"-"!==o||(e+=at[ct++]),r(at.charCodeAt(ct)))for(;r(at.charCodeAt(ct));)e+=at[ct++];else U({},nt.UnexpectedToken,"ILLEGAL");return s(at.charCodeAt(ct))&&U({},nt.UnexpectedToken,"ILLEGAL"),{type:Ze.NumericLiteral,value:parseFloat(e),lineNumber:lt,lineStart:ut,start:n,end:ct}}function R(){var e,r,n,o,s,c,l,u,p="",f=!1;for(l=lt,u=ut,t("'"===(e=at[ct])||'"'===e,"String literal must starts with a quote"),r=ct,++ct;ct<pt;){if((n=at[ct++])===e){e="";break}if("\\"===n)if((n=at[ct++])&&a(n.charCodeAt(0)))++lt,"\r"===n&&"\n"===at[ct]&&++ct,ut=ct;else switch(n){case"u":case"x":c=ct,(s=m(n))?p+=s:(ct=c,p+=n);break;case"n":p+="\n";break;case"r":p+="\r";break;case"t":p+="\t";break;case"b":p+="\b";break;case"f":p+="\f";break;case"v":p+="\v";break;default:i(n)?(0!==(o="01234567".indexOf(n))&&(f=!0),ct<pt&&i(at[ct])&&(f=!0,o=8*o+"01234567".indexOf(at[ct++]),"0123".indexOf(n)>=0&&ct<pt&&i(at[ct])&&(o=8*o+"01234567".indexOf(at[ct++]))),p+=String.fromCharCode(o)):p+=n}else{if(a(n.charCodeAt(0)))break;p+=n}}return""!==e&&U({},nt.UnexpectedToken,"ILLEGAL"),{type:Ze.StringLiteral,value:p,octal:f,startLineNumber:l,startLineStart:u,lineNumber:lt,lineStart:ut,start:r,end:ct}}function P(e,t){var r;try{r=new RegExp(e,t)}catch(e){U({},nt.InvalidRegExp)}return r}function C(){var e,r,n,i;for(t("/"===(e=at[ct]),"Regular expression literal must start with a slash"),r=at[ct++],n=!1,i=!1;ct<pt;)if(r+=e=at[ct++],"\\"===e)a((e=at[ct++]).charCodeAt(0))&&U({},nt.UnterminatedRegExp),r+=e;else if(a(e.charCodeAt(0)))U({},nt.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){i=!0;break}"["===e&&(n=!0)}return i||U({},nt.UnterminatedRegExp),{value:r.substr(1,r.length-2),literal:r}}function T(){var e,t,r,n;for(t="",r="";ct<pt&&c((e=at[ct]).charCodeAt(0));)if(++ct,"\\"===e&&ct<pt)if("u"===(e=at[ct])){if(n=++ct,e=m("u"))for(r+=e,t+="\\u";n<ct;++n)t+=at[n];else ct=n,r+="u",t+="\\u";F({},nt.UnexpectedToken,"ILLEGAL")}else t+="\\",F({},nt.UnexpectedToken,"ILLEGAL");else r+=e,t+=e;return{value:r,literal:t}}function I(){var e,t,r,n;return ht=null,g(),e=ct,t=C(),r=T(),n=P(t.value,r.value),yt.tokenize?{type:Ze.RegularExpression,value:n,lineNumber:lt,lineStart:ut,start:e,end:ct}:{literal:t.literal+r.literal,value:n,start:e,end:ct}}function A(){var e,t,r,n;return g(),e=ct,t={start:{line:lt,column:ct-ut}},r=I(),t.end={line:lt,column:ct-ut},yt.tokenize||(yt.tokens.length>0&&(n=yt.tokens[yt.tokens.length-1]).range[0]===e&&"Punctuator"===n.type&&("/"!==n.value&&"/="!==n.value||yt.tokens.pop()),yt.tokens.push({type:"RegularExpression",value:r.literal,range:[e,ct],loc:t})),r}function w(e){return e.type===Ze.Identifier||e.type===Ze.Keyword||e.type===Ze.BooleanLiteral||e.type===Ze.NullLiteral}function k(){var e,t;if(!(e=yt.tokens[yt.tokens.length-1]))return A();if("Punctuator"===e.type){if("]"===e.value)return b();if(")"===e.value)return!(t=yt.tokens[yt.openParenToken-1])||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?b():A();if("}"===e.value){if(yt.tokens[yt.openCurlyToken-3]&&"Keyword"===yt.tokens[yt.openCurlyToken-3].type){if(!(t=yt.tokens[yt.openCurlyToken-4]))return b()}else{if(!yt.tokens[yt.openCurlyToken-4]||"Keyword"!==yt.tokens[yt.openCurlyToken-4].type)return b();if(!(t=yt.tokens[yt.openCurlyToken-5]))return A()}return et.indexOf(t.value)>=0?b():A()}return A()}return"Keyword"===e.type?A():b()}function N(){var e;return g(),ct>=pt?{type:Ze.EOF,lineNumber:lt,lineStart:ut,start:ct,end:ct}:s(e=at.charCodeAt(ct))?v():40===e||41===e||59===e?b():39===e||34===e?R():46===e?r(at.charCodeAt(ct+1))?O():b():r(e)?O():yt.tokenize&&47===e?k():b()}function L(){var e,t,r;return g(),e={start:{line:lt,column:ct-ut}},t=N(),e.end={line:lt,column:ct-ut},t.type!==Ze.EOF&&(r=at.slice(t.start,t.end),yt.tokens.push({type:Qe[t.type],value:r,range:[t.start,t.end],loc:e})),t}function j(){var e;return ct=(e=ht).end,lt=e.lineNumber,ut=e.lineStart,ht=void 0!==yt.tokens?L():N(),ct=e.end,lt=e.lineNumber,ut=e.lineStart,e}function D(){var e,t,r;e=ct,t=lt,r=ut,ht=void 0!==yt.tokens?L():N(),ct=e,lt=t,ut=r}function $(e,t){this.line=e,this.column=t}function H(e,t,r,n){this.start=new $(e,t),this.end=new $(r,n)}function M(){var e,t,r,n;return e=ct,t=lt,r=ut,g(),n=lt!==t,ct=e,lt=t,ut=r,n}function U(e,r){var n,i=Array.prototype.slice.call(arguments,2),o=r.replace(/%(\d)/g,(function(e,r){return t(r<i.length,"Message reference must be in range"),i[r]}));throw"number"==typeof e.lineNumber?((n=new Error("Line "+e.lineNumber+": "+o)).index=e.start,n.lineNumber=e.lineNumber,n.column=e.start-ut+1):((n=new Error("Line "+lt+": "+o)).index=ct,n.lineNumber=lt,n.column=ct-ut+1),n.description=o,n}function F(){try{U.apply(null,arguments)}catch(e){if(!yt.errors)throw e;yt.errors.push(e)}}function B(e){if(e.type===Ze.EOF&&U(e,nt.UnexpectedEOS),e.type===Ze.NumericLiteral&&U(e,nt.UnexpectedNumber),e.type===Ze.StringLiteral&&U(e,nt.UnexpectedString),e.type===Ze.Identifier&&U(e,nt.UnexpectedIdentifier),e.type===Ze.Keyword){if(l(e.value))U(e,nt.UnexpectedReserved);else if(st&&u(e.value))return void F(e,nt.StrictReservedWord);U(e,nt.UnexpectedToken,e.value)}U(e,nt.UnexpectedToken,e.value)}function G(e){var t=j();t.type===Ze.Punctuator&&t.value===e||B(t)}function X(e){var t=j();t.type===Ze.Keyword&&t.value===e||B(t)}function K(e){return ht.type===Ze.Punctuator&&ht.value===e}function W(e){return ht.type===Ze.Keyword&&ht.value===e}function z(){var e;return ht.type===Ze.Punctuator&&("="===(e=ht.value)||"*="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e)}function q(){var e;59===at.charCodeAt(ct)||K(";")?j():(e=lt,g(),lt===e&&(ht.type===Ze.EOF||K("}")||B(ht)))}function V(e){return e.type===tt.Identifier||e.type===tt.MemberExpression}function Y(){var e,t=[];for(e=ht,G("[");!K("]");)K(",")?(j(),t.push(null)):(t.push(ye()),K("]")||G(","));return j(),ft.markEnd(ft.createArrayExpression(t),e)}function J(e,t){var r,n,i;return r=st,i=ht,n=Be(),t&&st&&p(e[0].name)&&F(t,nt.StrictParamName),st=r,ft.markEnd(ft.createFunctionExpression(null,e,[],n),i)}function Z(){var e,t;return t=ht,(e=j()).type===Ze.StringLiteral||e.type===Ze.NumericLiteral?(st&&e.octal&&F(e,nt.StrictOctalLiteral),ft.markEnd(ft.createLiteral(e),t)):ft.markEnd(ft.createIdentifier(e.value),t)}function Q(){var e,t,r,n,i,o;return o=ht,(e=ht).type===Ze.Identifier?(r=Z(),"get"!==e.value||K(":")?"set"!==e.value||K(":")?(G(":"),n=ye(),ft.markEnd(ft.createProperty("init",r,n),o)):(t=Z(),G("("),(e=ht).type!==Ze.Identifier?(G(")"),F(e,nt.UnexpectedToken,e.value),n=J([])):(i=[Ee()],G(")"),n=J(i,e)),ft.markEnd(ft.createProperty("set",t,n),o)):(t=Z(),G("("),G(")"),n=J([]),ft.markEnd(ft.createProperty("get",t,n),o))):e.type!==Ze.EOF&&e.type!==Ze.Punctuator?(t=Z(),G(":"),n=ye(),ft.markEnd(ft.createProperty("init",t,n),o)):void B(e)}function ee(){var e,t,r,n,i,o=[],a={},s=String;for(i=ht,G("{");!K("}");)t=(e=Q()).key.type===tt.Identifier?e.key.name:s(e.key.value),n="init"===e.kind?rt.Data:"get"===e.kind?rt.Get:rt.Set,r="$"+t,Object.prototype.hasOwnProperty.call(a,r)?(a[r]===rt.Data?st&&n===rt.Data?F({},nt.StrictDuplicateProperty):n!==rt.Data&&F({},nt.AccessorDataProperty):n===rt.Data?F({},nt.AccessorDataProperty):a[r]&n&&F({},nt.AccessorGetSet),a[r]|=n):a[r]=n,o.push(e),K("}")||G(",");return G("}"),ft.markEnd(ft.createObjectExpression(o),i)}function te(){var e;return G("("),e=ge(),G(")"),e}function re(){var e,t,r,n;if(K("("))return te();if(K("["))return Y();if(K("{"))return ee();if(e=ht.type,n=ht,e===Ze.Identifier)r=ft.createIdentifier(j().value);else if(e===Ze.StringLiteral||e===Ze.NumericLiteral)st&&ht.octal&&F(ht,nt.StrictOctalLiteral),r=ft.createLiteral(j());else if(e===Ze.Keyword){if(W("function"))return Ke();W("this")?(j(),r=ft.createThisExpression()):B(j())}else e===Ze.BooleanLiteral?((t=j()).value="true"===t.value,r=ft.createLiteral(t)):e===Ze.NullLiteral?((t=j()).value=null,r=ft.createLiteral(t)):K("/")||K("/=")?(r=void 0!==yt.tokens?ft.createLiteral(A()):ft.createLiteral(I()),D()):B(j());return ft.markEnd(r,n)}function ne(){var e=[];if(G("("),!K(")"))for(;ct<pt&&(e.push(ye()),!K(")"));)G(",");return G(")"),e}function ie(){var e,t;return t=ht,w(e=j())||B(e),ft.markEnd(ft.createIdentifier(e.value),t)}function oe(){return G("."),ie()}function ae(){var e;return G("["),e=ge(),G("]"),e}function se(){var e,t,r;return r=ht,X("new"),e=le(),t=K("(")?ne():[],ft.markEnd(ft.createNewExpression(e,t),r)}function ce(){var e,t,r,n,i;for(i=ht,e=dt.allowIn,dt.allowIn=!0,t=W("new")?se():re(),dt.allowIn=e;;){if(K("."))n=oe(),t=ft.createMemberExpression(".",t,n);else if(K("("))r=ne(),t=ft.createCallExpression(t,r);else{if(!K("["))break;n=ae(),t=ft.createMemberExpression("[",t,n)}ft.markEnd(t,i)}return t}function le(){var e,t,r,n;for(n=ht,e=dt.allowIn,t=W("new")?se():re(),dt.allowIn=e;K(".")||K("[");)K("[")?(r=ae(),t=ft.createMemberExpression("[",t,r)):(r=oe(),t=ft.createMemberExpression(".",t,r)),ft.markEnd(t,n);return t}function ue(){var e,t,r=ht;return e=ce(),ht.type===Ze.Punctuator&&(!K("++")&&!K("--")||M()||(st&&e.type===tt.Identifier&&p(e.name)&&F({},nt.StrictLHSPostfix),V(e)||F({},nt.InvalidLHSInAssignment),t=j(),e=ft.markEnd(ft.createPostfixExpression(t.value,e),r))),e}function pe(){var e,t,r;return ht.type!==Ze.Punctuator&&ht.type!==Ze.Keyword?t=ue():K("++")||K("--")?(r=ht,e=j(),t=pe(),st&&t.type===tt.Identifier&&p(t.name)&&F({},nt.StrictLHSPrefix),V(t)||F({},nt.InvalidLHSInAssignment),t=ft.createUnaryExpression(e.value,t),t=ft.markEnd(t,r)):K("+")||K("-")||K("~")||K("!")?(r=ht,e=j(),t=pe(),t=ft.createUnaryExpression(e.value,t),t=ft.markEnd(t,r)):W("delete")||W("void")||W("typeof")?(r=ht,e=j(),t=pe(),t=ft.createUnaryExpression(e.value,t),t=ft.markEnd(t,r),st&&"delete"===t.operator&&t.argument.type===tt.Identifier&&F({},nt.StrictDelete)):t=ue(),t}function fe(e,t){var r=0;if(e.type!==Ze.Punctuator&&e.type!==Ze.Keyword)return 0;switch(e.value){case"||":r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">=":case"instanceof":r=7;break;case"in":r=t?7:0;break;case"<<":case">>":case">>>":r=8;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11}return r}function he(){var e,t,r,n,i,o,a,s,c,l;if(e=ht,c=pe(),0===(i=fe(n=ht,dt.allowIn)))return c;for(n.prec=i,j(),t=[e,ht],o=[c,n,a=pe()];(i=fe(ht,dt.allowIn))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,c=o.pop(),r=ft.createBinaryExpression(s,c,a),t.pop(),e=t[t.length-1],ft.markEnd(r,e),o.push(r);(n=j()).prec=i,o.push(n),t.push(ht),r=pe(),o.push(r)}for(r=o[l=o.length-1],t.pop();l>1;)r=ft.createBinaryExpression(o[l-1].value,o[l-2],r),l-=2,e=t.pop(),ft.markEnd(r,e);return r}function de(){var e,t,r,n,i;return i=ht,e=he(),K("?")&&(j(),t=dt.allowIn,dt.allowIn=!0,r=ye(),dt.allowIn=t,G(":"),n=ye(),e=ft.createConditionalExpression(e,r,n),ft.markEnd(e,i)),e}function ye(){var e,t,r,n,i;return e=ht,i=ht,n=t=de(),z()&&(V(t)||F({},nt.InvalidLHSInAssignment),st&&t.type===tt.Identifier&&p(t.name)&&F(e,nt.StrictLHSAssignment),e=j(),r=ye(),n=ft.markEnd(ft.createAssignmentExpression(e.value,t,r),i)),n}function ge(){var e,t=ht;if(e=ye(),K(",")){for(e=ft.createSequenceExpression([e]);ct<pt&&K(",");)j(),e.expressions.push(ye());ft.markEnd(e,t)}return e}function me(){for(var e,t=[];ct<pt&&!K("}")&&void 0!==(e=We());)t.push(e);return t}function Se(){var e,t;return t=ht,G("{"),e=me(),G("}"),ft.markEnd(ft.createBlockStatement(e),t)}function Ee(){var e,t;return t=ht,(e=j()).type!==Ze.Identifier&&B(e),ft.markEnd(ft.createIdentifier(e.value),t)}function ve(e){var t,r,n=null;return r=ht,t=Ee(),st&&p(t.name)&&F({},nt.StrictVarName),"const"===e?(G("="),n=ye()):K("=")&&(j(),n=ye()),ft.markEnd(ft.createVariableDeclarator(t,n),r)}function be(e){var t=[];do{if(t.push(ve(e)),!K(","))break;j()}while(ct<pt);return t}function _e(){var e;return X("var"),e=be(),q(),ft.createVariableDeclaration(e,"var")}function xe(e){var t,r;return r=ht,X(e),t=be(e),q(),ft.markEnd(ft.createVariableDeclaration(t,e),r)}function Oe(){return G(";"),ft.createEmptyStatement()}function Re(){var e=ge();return q(),ft.createExpressionStatement(e)}function Pe(){var e,t,r;return X("if"),G("("),e=ge(),G(")"),t=Fe(),W("else")?(j(),r=Fe()):r=null,ft.createIfStatement(e,t,r)}function Ce(){var e,t,r;return X("do"),r=dt.inIteration,dt.inIteration=!0,e=Fe(),dt.inIteration=r,X("while"),G("("),t=ge(),G(")"),K(";")&&j(),ft.createDoWhileStatement(e,t)}function Te(){var e,t,r;return X("while"),G("("),e=ge(),G(")"),r=dt.inIteration,dt.inIteration=!0,t=Fe(),dt.inIteration=r,ft.createWhileStatement(e,t)}function Ie(){var e,t,r;return r=ht,e=j(),t=be(),ft.markEnd(ft.createVariableDeclaration(t,e.value),r)}function Ae(){var e,t,r,n,i,o,a;return e=t=r=null,X("for"),G("("),K(";")?j():(W("var")||W("let")?(dt.allowIn=!1,e=Ie(),dt.allowIn=!0,1===e.declarations.length&&W("in")&&(j(),n=e,i=ge(),e=null)):(dt.allowIn=!1,e=ge(),dt.allowIn=!0,W("in")&&(V(e)||F({},nt.InvalidLHSInForIn),j(),n=e,i=ge(),e=null)),void 0===n&&G(";")),void 0===n&&(K(";")||(t=ge()),G(";"),K(")")||(r=ge())),G(")"),a=dt.inIteration,dt.inIteration=!0,o=Fe(),dt.inIteration=a,void 0===n?ft.createForStatement(e,t,r,o):ft.createForInStatement(n,i,o)}function we(){var e,t=null;return X("continue"),59===at.charCodeAt(ct)?(j(),dt.inIteration||U({},nt.IllegalContinue),ft.createContinueStatement(null)):M()?(dt.inIteration||U({},nt.IllegalContinue),ft.createContinueStatement(null)):(ht.type===Ze.Identifier&&(e="$"+(t=Ee()).name,Object.prototype.hasOwnProperty.call(dt.labelSet,e)||U({},nt.UnknownLabel,t.name)),q(),null!==t||dt.inIteration||U({},nt.IllegalContinue),ft.createContinueStatement(t))}function ke(){var e,t=null;return X("break"),59===at.charCodeAt(ct)?(j(),dt.inIteration||dt.inSwitch||U({},nt.IllegalBreak),ft.createBreakStatement(null)):M()?(dt.inIteration||dt.inSwitch||U({},nt.IllegalBreak),ft.createBreakStatement(null)):(ht.type===Ze.Identifier&&(e="$"+(t=Ee()).name,Object.prototype.hasOwnProperty.call(dt.labelSet,e)||U({},nt.UnknownLabel,t.name)),q(),null!==t||dt.inIteration||dt.inSwitch||U({},nt.IllegalBreak),ft.createBreakStatement(t))}function Ne(){var e=null;return X("return"),dt.inFunctionBody||F({},nt.IllegalReturn),32===at.charCodeAt(ct)&&s(at.charCodeAt(ct+1))?(e=ge(),q(),ft.createReturnStatement(e)):M()?ft.createReturnStatement(null):(K(";")||K("}")||ht.type===Ze.EOF||(e=ge()),q(),ft.createReturnStatement(e))}function Le(){var e,t;return st&&(g(),F({},nt.StrictModeWith)),X("with"),G("("),e=ge(),G(")"),t=Fe(),ft.createWithStatement(e,t)}function je(){var e,t,r,n=[];for(r=ht,W("default")?(j(),e=null):(X("case"),e=ge()),G(":");ct<pt&&!(K("}")||W("default")||W("case"));)t=Fe(),n.push(t);return ft.markEnd(ft.createSwitchCase(e,n),r)}function De(){var e,t,r,n,i;if(X("switch"),G("("),e=ge(),G(")"),G("{"),t=[],K("}"))return j(),ft.createSwitchStatement(e,t);for(n=dt.inSwitch,dt.inSwitch=!0,i=!1;ct<pt&&!K("}");)null===(r=je()).test&&(i&&U({},nt.MultipleDefaultsInSwitch),i=!0),t.push(r);return dt.inSwitch=n,G("}"),ft.createSwitchStatement(e,t)}function $e(){var e;return X("throw"),M()&&U({},nt.NewlineAfterThrow),e=ge(),q(),ft.createThrowStatement(e)}function He(){var e,t,r;return r=ht,X("catch"),G("("),K(")")&&B(ht),e=Ee(),st&&p(e.name)&&F({},nt.StrictCatchVariable),G(")"),t=Se(),ft.markEnd(ft.createCatchClause(e,t),r)}function Me(){var e,t=[],r=null;return X("try"),e=Se(),W("catch")&&t.push(He()),W("finally")&&(j(),r=Se()),0!==t.length||r||U({},nt.NoCatchOrFinally),ft.createTryStatement(e,[],t,r)}function Ue(){return X("debugger"),q(),ft.createDebuggerStatement()}function Fe(){var e,t,r,n,i=ht.type;if(i===Ze.EOF&&B(ht),i===Ze.Punctuator&&"{"===ht.value)return Se();if(n=ht,i===Ze.Punctuator)switch(ht.value){case";":return ft.markEnd(Oe(),n);case"(":return ft.markEnd(Re(),n)}if(i===Ze.Keyword)switch(ht.value){case"break":return ft.markEnd(ke(),n);case"continue":return ft.markEnd(we(),n);case"debugger":return ft.markEnd(Ue(),n);case"do":return ft.markEnd(Ce(),n);case"for":return ft.markEnd(Ae(),n);case"function":return ft.markEnd(Xe(),n);case"if":return ft.markEnd(Pe(),n);case"return":return ft.markEnd(Ne(),n);case"switch":return ft.markEnd(De(),n);case"throw":return ft.markEnd($e(),n);case"try":return ft.markEnd(Me(),n);case"var":return ft.markEnd(_e(),n);case"while":return ft.markEnd(Te(),n);case"with":return ft.markEnd(Le(),n)}return(e=ge()).type===tt.Identifier&&K(":")?(j(),r="$"+e.name,Object.prototype.hasOwnProperty.call(dt.labelSet,r)&&U({},nt.Redeclaration,"Label",e.name),dt.labelSet[r]=!0,t=Fe(),delete dt.labelSet[r],ft.markEnd(ft.createLabeledStatement(e,t),n)):(q(),ft.markEnd(ft.createExpressionStatement(e),n))}function Be(){var e,t,r,n,i,o,a,s,c=[];for(s=ht,G("{");ct<pt&&ht.type===Ze.StringLiteral&&(t=ht,e=We(),c.push(e),e.expression.type===tt.Literal);)"use strict"===at.slice(t.start+1,t.end-1)?(st=!0,r&&F(r,nt.StrictOctalLiteral)):!r&&t.octal&&(r=t);for(n=dt.labelSet,i=dt.inIteration,o=dt.inSwitch,a=dt.inFunctionBody,dt.labelSet={},dt.inIteration=!1,dt.inSwitch=!1,dt.inFunctionBody=!0;ct<pt&&!K("}")&&void 0!==(e=We());)c.push(e);return G("}"),dt.labelSet=n,dt.inIteration=i,dt.inSwitch=o,dt.inFunctionBody=a,ft.markEnd(ft.createBlockStatement(c),s)}function Ge(e){var t,r,n,i,o,a,s=[];if(G("("),!K(")"))for(i={};ct<pt&&(r=ht,t=Ee(),o="$"+r.value,st?(p(r.value)&&(n=r,a=nt.StrictParamName),Object.prototype.hasOwnProperty.call(i,o)&&(n=r,a=nt.StrictParamDupe)):e||(p(r.value)?(e=r,a=nt.StrictParamName):u(r.value)?(e=r,a=nt.StrictReservedWord):Object.prototype.hasOwnProperty.call(i,o)&&(e=r,a=nt.StrictParamDupe)),s.push(t),i[o]=!0,!K(")"));)G(",");return G(")"),{params:s,stricted:n,firstRestricted:e,message:a}}function Xe(){var e,t,r,n,i,o,a,s,c,l=[];return c=ht,X("function"),r=ht,e=Ee(),st?p(r.value)&&F(r,nt.StrictFunctionName):p(r.value)?(o=r,a=nt.StrictFunctionName):u(r.value)&&(o=r,a=nt.StrictReservedWord),l=(i=Ge(o)).params,n=i.stricted,o=i.firstRestricted,i.message&&(a=i.message),s=st,t=Be(),st&&o&&U(o,a),st&&n&&F(n,a),st=s,ft.markEnd(ft.createFunctionDeclaration(e,l,[],t),c)}function Ke(){var e,t,r,n,i,o,a,s,c=null,l=[];return s=ht,X("function"),K("(")||(e=ht,c=Ee(),st?p(e.value)&&F(e,nt.StrictFunctionName):p(e.value)?(r=e,n=nt.StrictFunctionName):u(e.value)&&(r=e,n=nt.StrictReservedWord)),l=(i=Ge(r)).params,t=i.stricted,r=i.firstRestricted,i.message&&(n=i.message),a=st,o=Be(),st&&r&&U(r,n),st&&t&&F(t,n),st=a,ft.markEnd(ft.createFunctionExpression(c,l,[],o),s)}function We(){if(ht.type===Ze.Keyword)switch(ht.value){case"const":case"let":return xe(ht.value);case"function":return Xe();default:return Fe()}if(ht.type!==Ze.EOF)return Fe()}function ze(){for(var e,t,r,n=[];ct<pt&&(t=ht).type===Ze.StringLiteral&&(e=We(),n.push(e),e.expression.type===tt.Literal);)"use strict"===at.slice(t.start+1,t.end-1)?(st=!0,r&&F(r,nt.StrictOctalLiteral)):!r&&t.octal&&(r=t);for(;ct<pt&&void 0!==(e=We());)n.push(e);return n}function qe(){var e,t;return g(),D(),t=ht,st=!1,e=ze(),ft.markEnd(ft.createProgram(e),t)}function Ve(){var e,t,r,n=[];for(e=0;e<yt.tokens.length;++e)r={type:(t=yt.tokens[e]).type,value:t.value},yt.range&&(r.range=t.range),yt.loc&&(r.loc=t.loc),n.push(r);yt.tokens=n}function Ye(e,t){var r;"string"==typeof e||e instanceof String||(e=String(e)),ft=ot,ct=0,lt=(at=e).length>0?1:0,ut=0,pt=at.length,ht=null,dt={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},yt={},(t=t||{}).tokens=!0,yt.tokens=[],yt.tokenize=!0,yt.openParenToken=-1,yt.openCurlyToken=-1,yt.range="boolean"==typeof t.range&&t.range,yt.loc="boolean"==typeof t.loc&&t.loc,"boolean"==typeof t.comment&&t.comment&&(yt.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(yt.errors=[]);try{if(D(),ht.type===Ze.EOF)return yt.tokens;for(j();ht.type!==Ze.EOF;)try{j()}catch(e){if(yt.errors){yt.errors.push(e);break}throw e}Ve(),r=yt.tokens,void 0!==yt.comments&&(r.comments=yt.comments),void 0!==yt.errors&&(r.errors=yt.errors)}catch(e){throw e}finally{yt={}}return r}function Je(e,t){var r,n;n=String,"string"==typeof e||e instanceof String||(e=n(e)),ft=ot,ct=0,lt=(at=e).length>0?1:0,ut=0,pt=at.length,ht=null,dt={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},yt={},void 0!==t&&(yt.range="boolean"==typeof t.range&&t.range,yt.loc="boolean"==typeof t.loc&&t.loc,yt.attachComment="boolean"==typeof t.attachComment&&t.attachComment,yt.loc&&null!==t.source&&void 0!==t.source&&(yt.source=n(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(yt.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(yt.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(yt.errors=[]),yt.attachComment&&(yt.range=!0,yt.comments=[],yt.bottomRightStack=[],yt.trailingComments=[],yt.leadingComments=[]));try{r=qe(),void 0!==yt.comments&&(r.comments=yt.comments),void 0!==yt.tokens&&(Ve(),r.tokens=yt.tokens),void 0!==yt.errors&&(r.errors=yt.errors)}catch(e){throw e}finally{yt={}}return r}var Ze,Qe,et,tt,rt,nt,it,ot,at,st,ct,lt,ut,pt,ft,ht,dt,yt;(Qe={})[(Ze={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",Qe[Ze.EOF]="<end>",Qe[Ze.Identifier]="Identifier",Qe[Ze.Keyword]="Keyword",Qe[Ze.NullLiteral]="Null",Qe[Ze.NumericLiteral]="Numeric",Qe[Ze.Punctuator]="Punctuator",Qe[Ze.StringLiteral]="String",Qe[Ze.RegularExpression]="RegularExpression",et=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],tt={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},rt={Data:1,Get:2,Set:4},nt={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},it={NonAsciiIdentifierStart:new RegExp("[ÂªÂµÂºÃ-ÃÃ-Ã¶Ã¸-ËË-ËË -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½ÎÎ-ÎÎÎ-Î¡Î£-ÏµÏ·-ÒÒ-Ô§Ô±-ÕÕÕ¡-Ö×-×ª×°-×²Ø -ÙÙ®Ù¯Ù±-ÛÛÛ¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ-Ü¯Ý-Þ¥Þ±ß-ßªß´ßµßºà -à à à ¤à ¨à¡-à¡à¢ à¢¢-à¢¬à¤-à¤¹à¤½à¥à¥-à¥¡à¥±-à¥·à¥¹-à¥¿à¦-à¦à¦à¦à¦-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§à§à§à§-à§¡à§°à§±à¨-à¨à¨à¨à¨-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©-à©à©à©²-à©´àª-àªàª-àªàª-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à¬-à¬à¬à¬à¬-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­à­à­-à­¡à­±à®à®-à®à®-à®à®-à®à®à®à®à®à®à®£à®¤à®¨-à®ªà®®-à®¹à¯à°-à°à°-à°à°-à°¨à°ª-à°³à°µ-à°¹à°½à±à±à± à±¡à²-à²à²-à²à²-à²¨à²ª-à²³à²µ-à²¹à²½à³à³ à³¡à³±à³²à´-à´à´-à´à´-à´ºà´½àµàµ àµ¡àµº-àµ¿à¶-à¶à¶-à¶±à¶³-à¶»à¶½à·-à·à¸-à¸°à¸²à¸³à¹-à¹àºàºàºàºàºàºàºàº-àºàº-àºàº¡-àº£àº¥àº§àºªàº«àº­-àº°àº²àº³àº½à»-à»à»à»-à»à¼à½-à½à½-à½¬à¾-à¾á-áªá¿á-áá-áá¡á¥á¦á®-á°áµ-ááá -áááá-áºá¼-áá-áá-ááá-áá -áá-áá-á°á²-áµá¸-á¾áá-áá-áá-áá-áá-áá-áá -á´á-á¬á¯-á¿á-áá -áªá®-á°á-áá-áá -á±á-áá -á¬á®-á°á-á³ááá  -á¡·á¢-á¢¨á¢ªá¢°-á£µá¤-á¤á¥-á¥­á¥°-á¥´á¦-á¦«á§-á§á¨-á¨á¨ -á©áª§á¬-á¬³á­-á­á®-á® á®®á®¯á®º-á¯¥á°-á°£á±-á±á±-á±½á³©-á³¬á³®-á³±á³µá³¶á´-á¶¿á¸-á¼á¼-á¼á¼ -á½á½-á½á½-á½á½á½á½á½-á½½á¾-á¾´á¾¶-á¾¼á¾¾á¿-á¿á¿-á¿á¿-á¿á¿-á¿á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â-ââââ-âââ-ââ¤â¦â¨âª-â­â¯-â¹â¼-â¿â-âââ -ââ°-â°®â°°-â±â± -â³¤â³«-â³®â³²â³³â´-â´¥â´§â´­â´°-âµ§âµ¯â¶-â¶â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·-â·â·-â·â·-â·â·-â·â¸¯ã-ãã¡-ã©ã±-ãµã¸-ã¼ã-ãã-ãã¡-ãºã¼-ã¿ã-ã­ã±-ãã -ãºã°-ã¿ã-ä¶µä¸-é¿ê-êê-ê½ê-êê-êêªê«ê-ê®ê¿-êê -ê¯ê-êê¢-êê-êê-êê -êªê¸-ê ê -ê ê -ê ê -ê ¢ê¡-ê¡³ê¢-ê¢³ê£²-ê£·ê£»ê¤-ê¤¥ê¤°-ê¥ê¥ -ê¥¼ê¦-ê¦²ê§ê¨-ê¨¨ê©-ê©ê©-ê©ê© -ê©¶ê©ºêª-êª¯êª±êªµêª¶êª¹-êª½ê«ê«ê«-ê«ê« -ê«ªê«²-ê«´ê¬-ê¬ê¬-ê¬ê¬-ê¬ê¬ -ê¬¦ê¬¨-ê¬®ê¯-ê¯¢ê°-í£í°-íí-í»ï¤-ï©­ï©°-ï«ï¬-ï¬ï¬-ï¬ï¬ï¬-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­ï­ï­ï­ï­-ï®±ï¯-ï´½ïµ-ï¶ï¶-ï·ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½ï½¦-ï¾¾ï¿-ï¿ï¿-ï¿ï¿-ï¿ï¿-ï¿]"),NonAsciiIdentifierPart:new RegExp("[ÂªÂµÂºÃ-ÃÃ-Ã¶Ã¸-ËË-ËË -Ë¤Ë¬Ë®Ì-Í´Í¶Í·Íº-Í½ÎÎ-ÎÎÎ-Î¡Î£-ÏµÏ·-ÒÒ-ÒÒ-Ô§Ô±-ÕÕÕ¡-ÖÖ-Ö½Ö¿××××××-×ª×°-×²Ø-ØØ -Ù©Ù®-ÛÛ-ÛÛ-Û¨Ûª-Û¼Û¿Ü-ÝÝ-Þ±ß-ßµßºà -à ­à¡-à¡à¢ à¢¢-à¢¬à£¤-à£¾à¤-à¥£à¥¦-à¥¯à¥±-à¥·à¥¹-à¥¿à¦-à¦à¦-à¦à¦à¦à¦-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦¼-à§à§à§à§-à§à§à§à§à§-à§£à§¦-à§±à¨-à¨à¨-à¨à¨à¨à¨-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à¨¼à¨¾-à©à©à©à©-à©à©à©-à©à©à©¦-à©µàª-àªàª-àªàª-àªàª-àª¨àªª-àª°àª²àª³àªµ-àª¹àª¼-à«à«-à«à«-à«à«à« -à«£à«¦-à«¯à¬-à¬à¬-à¬à¬à¬à¬-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬¼-à­à­à­à­-à­à­à­à­à­à­-à­£à­¦-à­¯à­±à®à®à®-à®à®-à®à®-à®à®à®à®à®à®à®£à®¤à®¨-à®ªà®®-à®¹à®¾-à¯à¯-à¯à¯-à¯à¯à¯à¯¦-à¯¯à°-à°à°-à°à°-à°à°-à°¨à°ª-à°³à°µ-à°¹à°½-à±à±-à±à±-à±à±à±à±à±à± -à±£à±¦-à±¯à²à²à²-à²à²-à²à²-à²¨à²ª-à²³à²µ-à²¹à²¼-à³à³-à³à³-à³à³à³à³à³ -à³£à³¦-à³¯à³±à³²à´à´à´-à´à´-à´à´-à´ºà´½-àµàµ-àµàµ-àµàµàµ -àµ£àµ¦-àµ¯àµº-àµ¿à¶à¶à¶-à¶à¶-à¶±à¶³-à¶»à¶½à·-à·à·à·-à·à·à·-à·à·²à·³à¸-à¸ºà¹-à¹à¹-à¹àºàºàºàºàºàºàºàº-àºàº-àºàº¡-àº£àº¥àº§àºªàº«àº­-àº¹àº»-àº½à»-à»à»à»-à»à»-à»à»-à»à¼à¼à¼à¼ -à¼©à¼µà¼·à¼¹à¼¾-à½à½-à½¬à½±-à¾à¾-à¾à¾-à¾¼à¿á-áá-áá -áááá-áºá¼-áá-áá-ááá-áá -áá-áá-á°á²-áµá¸-á¾áá-áá-áá-áá-áá-áá-áá-áá -á´á-á¬á¯-á¿á-áá -áªá®-á°á-áá-áá -á´á-áá -á¬á®-á°á²á³á-ááááá -á©á -á á -á á  -á¡·á¢-á¢ªá¢°-á£µá¤-á¤á¤ -á¤«á¤°-á¤»á¥-á¥­á¥°-á¥´á¦-á¦«á¦°-á§á§-á§á¨-á¨á¨ -á©á© -á©¼á©¿-áªáª-áªáª§á¬-á­á­-á­á­«-á­³á®-á¯³á°-á°·á±-á±á±-á±½á³-á³á³-á³¶á´-á·¦á·¼-á¼á¼-á¼á¼ -á½á½-á½á½-á½á½á½á½á½-á½½á¾-á¾´á¾¶-á¾¼á¾¾á¿-á¿á¿-á¿á¿-á¿á¿-á¿á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼âââ¿âââ±â¿â-ââ-ââ¡â¥-â°âââ-âââ-ââ¤â¦â¨âª-â­â¯-â¹â¼-â¿â-âââ -ââ°-â°®â°°-â±â± -â³¤â³«-â³³â´-â´¥â´§â´­â´°-âµ§âµ¯âµ¿-â¶â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·-â·â·-â·â·-â·â·-â·â· -â·¿â¸¯ã-ãã¡-ã¯ã±-ãµã¸-ã¼ã-ãããã-ãã¡-ãºã¼-ã¿ã-ã­ã±-ãã -ãºã°-ã¿ã-ä¶µä¸-é¿ê-êê-ê½ê-êê-ê«ê-ê¯ê´-ê½ê¿-êê-ê±ê-êê¢-êê-êê-êê -êªê¸-ê §ê¡-ê¡³ê¢-ê£ê£-ê£ê£ -ê£·ê£»ê¤-ê¤­ê¤°-ê¥ê¥ -ê¥¼ê¦-ê§ê§-ê§ê¨-ê¨¶ê©-ê©ê©-ê©ê© -ê©¶ê©ºê©»êª-ê«ê«-ê«ê« -ê«¯ê«²-ê«¶ê¬-ê¬ê¬-ê¬ê¬-ê¬ê¬ -ê¬¦ê¬¨-ê¬®ê¯-ê¯ªê¯¬ê¯­ê¯°-ê¯¹ê°-í£í°-íí-í»ï¤-ï©­ï©°-ï«ï¬-ï¬ï¬-ï¬ï¬-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­ï­ï­ï­ï­-ï®±ï¯-ï´½ïµ-ï¶ï¶-ï·ï·°-ï·»ï¸-ï¸ï¸ -ï¸¦ï¸³ï¸´ï¹-ï¹ï¹°-ï¹´ï¹¶-ï»¼ï¼-ï¼ï¼¡-ï¼ºï¼¿ï½-ï½ï½¦-ï¾¾ï¿-ï¿ï¿-ï¿ï¿-ï¿ï¿-ï¿]")},ot={name:"SyntaxTree",processComment:function(e){var t,r;if(!(e.type===tt.Program&&e.body.length>0)){for(yt.trailingComments.length>0?yt.trailingComments[0].range[0]>=e.range[1]?(r=yt.trailingComments,yt.trailingComments=[]):yt.trailingComments.length=0:yt.bottomRightStack.length>0&&yt.bottomRightStack[yt.bottomRightStack.length-1].trailingComments&&yt.bottomRightStack[yt.bottomRightStack.length-1].trailingComments[0].range[0]>=e.range[1]&&(r=yt.bottomRightStack[yt.bottomRightStack.length-1].trailingComments,delete yt.bottomRightStack[yt.bottomRightStack.length-1].trailingComments);yt.bottomRightStack.length>0&&yt.bottomRightStack[yt.bottomRightStack.length-1].range[0]>=e.range[0];)t=yt.bottomRightStack.pop();t?t.leadingComments&&t.leadingComments[t.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=t.leadingComments,delete t.leadingComments):yt.leadingComments.length>0&&yt.leadingComments[yt.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=yt.leadingComments,yt.leadingComments=[]),r&&(e.trailingComments=r),yt.bottomRightStack.push(e)}},markEnd:function(e,t){return yt.range&&(e.range=[t.start,ct]),yt.loc&&(e.loc=new H(void 0===t.startLineNumber?t.lineNumber:t.startLineNumber,t.start-(void 0===t.startLineStart?t.lineStart:t.startLineStart),lt,ct-ut),this.postProcess(e)),yt.attachComment&&this.processComment(e),e},postProcess:function(e){return yt.source&&(e.loc.source=yt.source),e},createArrayExpression:function(e){return{type:tt.ArrayExpression,elements:e}},createAssignmentExpression:function(e,t,r){return{type:tt.AssignmentExpression,operator:e,left:t,right:r}},createBinaryExpression:function(e,t,r){return{type:"||"===e||"&&"===e?tt.LogicalExpression:tt.BinaryExpression,operator:e,left:t,right:r}},createBlockStatement:function(e){return{type:tt.BlockStatement,body:e}},createBreakStatement:function(e){return{type:tt.BreakStatement,label:e}},createCallExpression:function(e,t){return{type:tt.CallExpression,callee:e,arguments:t}},createCatchClause:function(e,t){return{type:tt.CatchClause,param:e,body:t}},createConditionalExpression:function(e,t,r){return{type:tt.ConditionalExpression,test:e,consequent:t,alternate:r}},createContinueStatement:function(e){return{type:tt.ContinueStatement,label:e}},createDebuggerStatement:function(){return{type:tt.DebuggerStatement}},createDoWhileStatement:function(e,t){return{type:tt.DoWhileStatement,body:e,test:t}},createEmptyStatement:function(){return{type:tt.EmptyStatement}},createExpressionStatement:function(e){return{type:tt.ExpressionStatement,expression:e}},createForStatement:function(e,t,r,n){return{type:tt.ForStatement,init:e,test:t,update:r,body:n}},createForInStatement:function(e,t,r){return{type:tt.ForInStatement,left:e,right:t,body:r,each:!1}},createFunctionDeclaration:function(e,t,r,n){return{type:tt.FunctionDeclaration,id:e,params:t,defaults:r,body:n,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(e,t,r,n){return{type:tt.FunctionExpression,id:e,params:t,defaults:r,body:n,rest:null,generator:!1,expression:!1}},createIdentifier:function(e){return{type:tt.Identifier,name:e}},createIfStatement:function(e,t,r){return{type:tt.IfStatement,test:e,consequent:t,alternate:r}},createLabeledStatement:function(e,t){return{type:tt.LabeledStatement,label:e,body:t}},createLiteral:function(e){return{type:tt.Literal,value:e.value,raw:at.slice(e.start,e.end)}},createMemberExpression:function(e,t,r){return{type:tt.MemberExpression,computed:"["===e,object:t,property:r}},createNewExpression:function(e,t){return{type:tt.NewExpression,callee:e,arguments:t}},createObjectExpression:function(e){return{type:tt.ObjectExpression,properties:e}},createPostfixExpression:function(e,t){return{type:tt.UpdateExpression,operator:e,argument:t,prefix:!1}},createProgram:function(e){return{type:tt.Program,body:e}},createProperty:function(e,t,r){return{type:tt.Property,key:t,value:r,kind:e}},createReturnStatement:function(e){return{type:tt.ReturnStatement,argument:e}},createSequenceExpression:function(e){return{type:tt.SequenceExpression,expressions:e}},createSwitchCase:function(e,t){return{type:tt.SwitchCase,test:e,consequent:t}},createSwitchStatement:function(e,t){return{type:tt.SwitchStatement,discriminant:e,cases:t}},createThisExpression:function(){return{type:tt.ThisExpression}},createThrowStatement:function(e){return{type:tt.ThrowStatement,argument:e}},createTryStatement:function(e,t,r,n){return{type:tt.TryStatement,block:e,guardedHandlers:t,handlers:r,finalizer:n}},createUnaryExpression:function(e,t){return"++"===e||"--"===e?{type:tt.UpdateExpression,operator:e,argument:t,prefix:!0}:{type:tt.UnaryExpression,operator:e,argument:t,prefix:!0}},createVariableDeclaration:function(e,t){return{type:tt.VariableDeclaration,declarations:e,kind:t}},createVariableDeclarator:function(e,t){return{type:tt.VariableDeclarator,id:e,init:t}},createWhileStatement:function(e,t){return{type:tt.WhileStatement,test:e,body:t}},createWithStatement:function(e,t){return{type:tt.WithStatement,object:e,body:t}}},e.version="1.2.2",e.tokenize=Ye,e.parse=Je,e.Syntax=function(){var e,t={};for(e in"function"==typeof Object.create&&(t=Object.create(null)),tt)tt.hasOwnProperty(e)&&(t[e]=tt[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()}))},{}],1:[function(e,t,r){(function(n){var i=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,JSON_PATH:3,DOLLAR:4,PATH_COMPONENTS:5,LEADING_CHILD_MEMBER_EXPRESSION:6,PATH_COMPONENT:7,MEMBER_COMPONENT:8,SUBSCRIPT_COMPONENT:9,CHILD_MEMBER_COMPONENT:10,DESCENDANT_MEMBER_COMPONENT:11,DOT:12,MEMBER_EXPRESSION:13,DOT_DOT:14,STAR:15,IDENTIFIER:16,SCRIPT_EXPRESSION:17,INTEGER:18,END:19,CHILD_SUBSCRIPT_COMPONENT:20,DESCENDANT_SUBSCRIPT_COMPONENT:21,"[":22,SUBSCRIPT:23,"]":24,SUBSCRIPT_EXPRESSION:25,SUBSCRIPT_EXPRESSION_LIST:26,SUBSCRIPT_EXPRESSION_LISTABLE:27,",":28,STRING_LITERAL:29,ARRAY_SLICE:30,FILTER_EXPRESSION:31,QQ_STRING:32,Q_STRING:33,$accept:0,$end:1},terminals_:{2:"error",4:"DOLLAR",12:"DOT",14:"DOT_DOT",15:"STAR",16:"IDENTIFIER",17:"SCRIPT_EXPRESSION",18:"INTEGER",19:"END",22:"[",24:"]",28:",",30:"ARRAY_SLICE",31:"FILTER_EXPRESSION",32:"QQ_STRING",33:"Q_STRING"},productions_:[0,[3,1],[3,2],[3,1],[3,2],[5,1],[5,2],[7,1],[7,1],[8,1],[8,1],[10,2],[6,1],[11,2],[13,1],[13,1],[13,1],[13,1],[13,1],[9,1],[9,1],[20,3],[21,4],[23,1],[23,1],[26,1],[26,3],[27,1],[27,1],[27,1],[25,1],[25,1],[25,1],[29,1],[29,1]],performAction:function(e,t,n,i,o,a,s){i.ast||(i.ast=r,r.initialize());var c=a.length-1;switch(o){case 1:return i.ast.set({expression:{type:"root",value:a[c]}}),i.ast.unshift(),i.ast.yield();case 2:return i.ast.set({expression:{type:"root",value:a[c-1]}}),i.ast.unshift(),i.ast.yield();case 3:return i.ast.unshift(),i.ast.yield();case 4:return i.ast.set({operation:"member",scope:"child",expression:{type:"identifier",value:a[c-1]}}),i.ast.unshift(),i.ast.yield();case 5:case 6:break;case 7:i.ast.set({operation:"member"}),i.ast.push();break;case 8:i.ast.set({operation:"subscript"}),i.ast.push();break;case 9:i.ast.set({scope:"child"});break;case 10:i.ast.set({scope:"descendant"});break;case 11:break;case 12:i.ast.set({scope:"child",operation:"member"});break;case 13:break;case 14:i.ast.set({expression:{type:"wildcard",value:a[c]}});break;case 15:i.ast.set({expression:{type:"identifier",value:a[c]}});break;case 16:i.ast.set({expression:{type:"script_expression",value:a[c]}});break;case 17:i.ast.set({expression:{type:"numeric_literal",value:parseInt(a[c])}});break;case 18:break;case 19:i.ast.set({scope:"child"});break;case 20:i.ast.set({scope:"descendant"});break;case 21:case 22:case 23:break;case 24:a[c].length>1?i.ast.set({expression:{type:"union",value:a[c]}}):this.$=a[c];break;case 25:this.$=[a[c]];break;case 26:this.$=a[c-2].concat(a[c]);break;case 27:this.$={expression:{type:"numeric_literal",value:parseInt(a[c])}},i.ast.set(this.$);break;case 28:this.$={expression:{type:"string_literal",value:a[c]}},i.ast.set(this.$);break;case 29:this.$={expression:{type:"slice",value:a[c]}},i.ast.set(this.$);break;case 30:this.$={expression:{type:"wildcard",value:a[c]}},i.ast.set(this.$);break;case 31:this.$={expression:{type:"script_expression",value:a[c]}},i.ast.set(this.$);break;case 32:this.$={expression:{type:"filter_expression",value:a[c]}},i.ast.set(this.$);break;case 33:case 34:this.$=a[c]}},table:[{3:1,4:[1,2],6:3,13:4,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{1:[3]},{1:[2,1],5:10,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,3],5:21,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,12],12:[2,12],14:[2,12],22:[2,12]},{1:[2,14],12:[2,14],14:[2,14],22:[2,14]},{1:[2,15],12:[2,15],14:[2,15],22:[2,15]},{1:[2,16],12:[2,16],14:[2,16],22:[2,16]},{1:[2,17],12:[2,17],14:[2,17],22:[2,17]},{1:[2,18],12:[2,18],14:[2,18],22:[2,18]},{1:[2,2],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,5],12:[2,5],14:[2,5],22:[2,5]},{1:[2,7],12:[2,7],14:[2,7],22:[2,7]},{1:[2,8],12:[2,8],14:[2,8],22:[2,8]},{1:[2,9],12:[2,9],14:[2,9],22:[2,9]},{1:[2,10],12:[2,10],14:[2,10],22:[2,10]},{1:[2,19],12:[2,19],14:[2,19],22:[2,19]},{1:[2,20],12:[2,20],14:[2,20],22:[2,20]},{13:23,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{13:24,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9],22:[1,25]},{15:[1,29],17:[1,30],18:[1,33],23:26,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{1:[2,4],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,6],12:[2,6],14:[2,6],22:[2,6]},{1:[2,11],12:[2,11],14:[2,11],22:[2,11]},{1:[2,13],12:[2,13],14:[2,13],22:[2,13]},{15:[1,29],17:[1,30],18:[1,33],23:38,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{24:[1,39]},{24:[2,23]},{24:[2,24],28:[1,40]},{24:[2,30]},{24:[2,31]},{24:[2,32]},{24:[2,25],28:[2,25]},{24:[2,27],28:[2,27]},{24:[2,28],28:[2,28]},{24:[2,29],28:[2,29]},{24:[2,33],28:[2,33]},{24:[2,34],28:[2,34]},{24:[1,41]},{1:[2,21],12:[2,21],14:[2,21],22:[2,21]},{18:[1,33],27:42,29:34,30:[1,35],32:[1,36],33:[1,37]},{1:[2,22],12:[2,22],14:[2,22],22:[2,22]},{24:[2,26],28:[2,26]}],defaultActions:{27:[2,23],29:[2,30],30:[2,31],31:[2,32]},parseError:function(e,t){if(!t.recoverable)throw new Error(e);this.trace(e)},parse:function(e){function t(){var e;return"number"!=typeof(e=r.lexer.lex()||f)&&(e=r.symbols_[e]||e),e}var r=this,n=[0],i=[null],o=[],a=this.table,s="",c=0,l=0,u=0,p=2,f=1,h=o.slice.call(arguments,1);this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;o.push(d);var y=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError?this.parseError=this.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,m,S,E,v,b,_,x,O,R={};;){if(S=n[n.length-1],this.defaultActions[S]?E=this.defaultActions[S]:(null!=g||(g=t()),E=a[S]&&a[S][g]),void 0===E||!E.length||!E[0]){var P="";for(b in O=[],a[S])this.terminals_[b]&&b>p&&O.push("'"+this.terminals_[b]+"'");P=this.lexer.showPosition?"Parse error on line "+(c+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(c+1)+": Unexpected "+(g==f?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(P,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:d,expected:O})}if(E[0]instanceof Array&&E.length>1)throw new Error("Parse Error: multiple actions possible at state: "+S+", token: "+g);switch(E[0]){case 1:n.push(g),i.push(this.lexer.yytext),o.push(this.lexer.yylloc),n.push(E[1]),g=null,m?(g=m,m=null):(l=this.lexer.yyleng,s=this.lexer.yytext,c=this.lexer.yylineno,d=this.lexer.yylloc,u>0&&u--);break;case 2:if(_=this.productions_[E[1]][1],R.$=i[i.length-_],R._$={first_line:o[o.length-(_||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(_||1)].first_column,last_column:o[o.length-1].last_column},y&&(R._$.range=[o[o.length-(_||1)].range[0],o[o.length-1].range[1]]),void 0!==(v=this.performAction.apply(R,[s,l,c,this.yy,E[1],i,o].concat(h))))return v;_&&(n=n.slice(0,-1*_*2),i=i.slice(0,-1*_),o=o.slice(0,-1*_)),n.push(this.productions_[E[1]][0]),i.push(R.$),o.push(R._$),x=a[n[n.length-2]][n[n.length-1]],n.push(x);break;case 3:return!0}}return!0}},r={initialize:function(){this._nodes=[],this._node={},this._stash=[]},set:function(e){for(var t in e)this._node[t]=e[t];return this._node},node:function(e){return arguments.length&&(this._node=e),this._node},push:function(){this._nodes.push(this._node),this._node={}},unshift:function(){this._nodes.unshift(this._node),this._node={}},yield:function(){var e=this._nodes;return this.initialize(),e}},n={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((r=this._input.match(this.rules[i[o]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,r,n){switch(r){case 0:return 4;case 1:return 14;case 2:return 12;case 3:return 15;case 4:return 16;case 5:return 22;case 6:return 24;case 7:return 28;case 8:return 30;case 9:return 18;case 10:return t.yytext=t.yytext.substr(1,t.yyleng-2),32;case 11:return t.yytext=t.yytext.substr(1,t.yyleng-2),33;case 12:return 17;case 13:return 31}},rules:[/^(?:\$)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\*)/,/^(?:[a-zA-Z_]+[a-zA-Z0-9_]*)/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:((-?(?:0|[1-9][0-9]*)))?\:((-?(?:0|[1-9][0-9]*)))?(\:((-?(?:0|[1-9][0-9]*)))?)?)/,/^(?:(-?(?:0|[1-9][0-9]*)))/,/^(?:"(?:\\["bfnrt\/\\]|\\u[a-fA-F0-9]{4}|[^"\\])*")/,/^(?:'(?:\\['bfnrt\/\\]|\\u[a-fA-F0-9]{4}|[^'\\])*')/,/^(?:\(.+?\)(?=\]))/,/^(?:\?\(.+?\)(?=\]))/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return t.lexer=n,e.prototype=t,t.Parser=e,new e}();void 0!==e&&void 0!==r&&(r.parser=i,r.Parser=i.Parser,r.parse=function(){return i.parse.apply(i,arguments)},r.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),n.exit(1));var i=e("fs").readFileSync(e("path").normalize(t[1]),"utf8");return r.parser.parse(i)},void 0!==t&&e.main===t&&r.main(n.argv.slice(1)))}).call(this,e("_process"))},{_process:14,fs:12,path:13}],2:[function(e,t,r){t.exports={identifier:"[a-zA-Z_]+[a-zA-Z0-9_]*",integer:"-?(?:0|[1-9][0-9]*)",qq_string:'"(?:\\\\["bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^"\\\\])*"',q_string:"'(?:\\\\['bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^'\\\\])*'"}},{}],3:[function(e,t,r){var n=e("./dict"),i=e("fs"),o={lex:{macros:{esc:"\\\\",int:n.integer},rules:[["\\$","return 'DOLLAR'"],["\\.\\.","return 'DOT_DOT'"],["\\.","return 'DOT'"],["\\*","return 'STAR'"],[n.identifier,"return 'IDENTIFIER'"],["\\[","return '['"],["\\]","return ']'"],[",","return ','"],["({int})?\\:({int})?(\\:({int})?)?","return 'ARRAY_SLICE'"],["{int}","return 'INTEGER'"],[n.qq_string,"yytext = yytext.substr(1,yyleng-2); return 'QQ_STRING';"],[n.q_string,"yytext = yytext.substr(1,yyleng-2); return 'Q_STRING';"],["\\(.+?\\)(?=\\])","return 'SCRIPT_EXPRESSION'"],["\\?\\(.+?\\)(?=\\])","return 'FILTER_EXPRESSION'"]]},start:"JSON_PATH",bnf:{JSON_PATH:[["DOLLAR",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["DOLLAR PATH_COMPONENTS",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["LEADING_CHILD_MEMBER_EXPRESSION","yy.ast.unshift(); return yy.ast.yield()"],["LEADING_CHILD_MEMBER_EXPRESSION PATH_COMPONENTS",'yy.ast.set({ operation: "member", scope: "child", expression: { type: "identifier", value: $1 }}); yy.ast.unshift(); return yy.ast.yield()']],PATH_COMPONENTS:[["PATH_COMPONENT",""],["PATH_COMPONENTS PATH_COMPONENT",""]],PATH_COMPONENT:[["MEMBER_COMPONENT",'yy.ast.set({ operation: "member" }); yy.ast.push()'],["SUBSCRIPT_COMPONENT",'yy.ast.set({ operation: "subscript" }); yy.ast.push() ']],MEMBER_COMPONENT:[["CHILD_MEMBER_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_MEMBER_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_MEMBER_COMPONENT:[["DOT MEMBER_EXPRESSION",""]],LEADING_CHILD_MEMBER_EXPRESSION:[["MEMBER_EXPRESSION",'yy.ast.set({ scope: "child", operation: "member" })']],DESCENDANT_MEMBER_COMPONENT:[["DOT_DOT MEMBER_EXPRESSION",""]],MEMBER_EXPRESSION:[["STAR",'yy.ast.set({ expression: { type: "wildcard", value: $1 } })'],["IDENTIFIER",'yy.ast.set({ expression: { type: "identifier", value: $1 } })'],["SCRIPT_EXPRESSION",'yy.ast.set({ expression: { type: "script_expression", value: $1 } })'],["INTEGER",'yy.ast.set({ expression: { type: "numeric_literal", value: parseInt($1) } })'],["END",""]],SUBSCRIPT_COMPONENT:[["CHILD_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_SUBSCRIPT_COMPONENT:[["[ SUBSCRIPT ]",""]],DESCENDANT_SUBSCRIPT_COMPONENT:[["DOT_DOT [ SUBSCRIPT ]",""]],SUBSCRIPT:[["SUBSCRIPT_EXPRESSION",""],["SUBSCRIPT_EXPRESSION_LIST",'$1.length > 1? yy.ast.set({ expression: { type: "union", value: $1 } }) : $$ = $1']],SUBSCRIPT_EXPRESSION_LIST:[["SUBSCRIPT_EXPRESSION_LISTABLE","$$ = [$1]"],["SUBSCRIPT_EXPRESSION_LIST , SUBSCRIPT_EXPRESSION_LISTABLE","$$ = $1.concat($3)"]],SUBSCRIPT_EXPRESSION_LISTABLE:[["INTEGER",'$$ = { expression: { type: "numeric_literal", value: parseInt($1) } }; yy.ast.set($$)'],["STRING_LITERAL",'$$ = { expression: { type: "string_literal", value: $1 } }; yy.ast.set($$)'],["ARRAY_SLICE",'$$ = { expression: { type: "slice", value: $1 } }; yy.ast.set($$)']],SUBSCRIPT_EXPRESSION:[["STAR",'$$ = { expression: { type: "wildcard", value: $1 } }; yy.ast.set($$)'],["SCRIPT_EXPRESSION",'$$ = { expression: { type: "script_expression", value: $1 } }; yy.ast.set($$)'],["FILTER_EXPRESSION",'$$ = { expression: { type: "filter_expression", value: $1 } }; yy.ast.set($$)']],STRING_LITERAL:[["QQ_STRING","$$ = $1"],["Q_STRING","$$ = $1"]]}};i.readFileSync&&(o.moduleInclude=i.readFileSync(e.resolve("../include/module.js")),o.actionInclude=i.readFileSync(e.resolve("../include/action.js"))),t.exports=o},{"./dict":2,fs:12}],4:[function(e,t,r){function n(t,r,n){var i=e("./index"),o=l(f.parse(r).body[0].expression,{"@":t.value}),a=n.replace(/\{\{\s*value\s*\}\}/g,o),s=i.nodes(t.value,a);return s.forEach((function(e){e.path=t.path.concat(e.path.slice(1))})),s}function i(e){return Array.isArray(e)}function o(e){return e&&!(e instanceof Array)&&e instanceof Object}function a(e){return function(t,r,n,a){var s=t.value,c=t.path,l=[],u=function(t,s){i(t)?(t.forEach((function(e,t){l.length>=a||n(t,e,r)&&l.push({path:s.concat(t),value:e})})),t.forEach((function(t,r){l.length>=a||e&&u(t,s.concat(r))}))):o(t)&&(this.keys(t).forEach((function(e){l.length>=a||n(e,t[e],r)&&l.push({path:s.concat(e),value:t[e]})})),this.keys(t).forEach((function(r){l.length>=a||e&&u(t[r],s.concat(r))})))}.bind(this);return u(s,c),l}}function s(e){return function(t,r,n){return this.descend(r,t.expression.value,e,n)}}function c(e){return function(t,r,n){return this.traverse(r,t.expression.value,e,n)}}function l(){try{return d.apply(this,arguments)}catch(e){}}function u(e){return e=e.filter((function(e){return e})),y(e,(function(e){return e.path.map((function(e){return String(e).replace("-","--")})).join("-")}))}function p(e){var t=String(e);return t.match(/^-?[0-9]+$/)?parseInt(t):null}var f=e("./aesprim"),h=e("./slice"),d=e("static-eval"),y=e("underscore").uniq,g=function(){return this.initialize.apply(this,arguments)};g.prototype.initialize=function(){this.traverse=a(!0),this.descend=a()},g.prototype.keys=Object.keys,g.prototype.resolve=function(e){var t=[e.operation,e.scope,e.expression.type].join("-"),r=this._fns[t];if(!r)throw new Error("couldn't resolve key: "+t);return r.bind(this)},g.prototype.register=function(e,t){if(!t instanceof Function)throw new Error("handler must be a function");this._fns[e]=t},g.prototype._fns={"member-child-identifier":function(e,t){var r=e.expression.value,n=t.value;if(n instanceof Object&&r in n)return[{value:n[r],path:t.path.concat(r)}]},"member-descendant-identifier":c((function(e,t,r){return e==r})),"subscript-child-numeric_literal":s((function(e,t,r){return e===r})),"member-child-numeric_literal":s((function(e,t,r){return String(e)===String(r)})),"subscript-descendant-numeric_literal":c((function(e,t,r){return e===r})),"member-child-wildcard":s((function(){return!0})),"member-descendant-wildcard":c((function(){return!0})),"subscript-descendant-wildcard":c((function(){return!0})),"subscript-child-wildcard":s((function(){return!0})),"subscript-child-slice":function(e,t){if(i(t.value)){var r=e.expression.value.split(":").map(p),n=t.value.map((function(e,r){return{value:e,path:t.path.concat(r)}}));return h.apply(null,[n].concat(r))}},"subscript-child-union":function(e,t){var r=[];return e.expression.value.forEach((function(e){var n={operation:"subscript",scope:"child",expression:e.expression},i=this.resolve(n)(n,t);i&&(r=r.concat(i))}),this),u(r)},"subscript-descendant-union":function(t,r,n){var i=e(".."),o=this,a=[];return i.nodes(r,"$..*").slice(1).forEach((function(e){a.length>=n||t.expression.value.forEach((function(t){var r={operation:"subscript",scope:"child",expression:t.expression},n=o.resolve(r)(r,e);a=a.concat(n)}))})),u(a)},"subscript-child-filter_expression":function(e,t,r){var n=e.expression.value.slice(2,-1),i=f.parse(n).body[0].expression,o=function(e,t){return l(i,{"@":t})};return this.descend(t,null,o,r)},"subscript-descendant-filter_expression":function(e,t,r){var n=e.expression.value.slice(2,-1),i=f.parse(n).body[0].expression,o=function(e,t){return l(i,{"@":t})};return this.traverse(t,null,o,r)},"subscript-child-script_expression":function(e,t){return n(t,e.expression.value.slice(1,-1),"$[{{value}}]")},"member-child-script_expression":function(e,t){return n(t,e.expression.value.slice(1,-1),"$.{{value}}")},"member-descendant-script_expression":function(e,t){return n(t,e.expression.value.slice(1,-1),"$..value")}},g.prototype._fns["subscript-child-string_literal"]=g.prototype._fns["member-child-identifier"],g.prototype._fns["member-descendant-numeric_literal"]=g.prototype._fns["subscript-descendant-string_literal"]=g.prototype._fns["member-descendant-identifier"],t.exports=g},{"..":"jsonpath","./aesprim":"./aesprim","./index":5,"./slice":7,"static-eval":15,underscore:12}],5:[function(e,t,r){function n(e){return"[object String]"==Object.prototype.toString.call(e)}var i=e("assert"),o=e("./dict"),a=e("./parser"),s=e("./handlers"),c=function(){this.initialize.apply(this,arguments)};c.prototype.initialize=function(){this.parser=new a,this.handlers=new s},c.prototype.parse=function(e){return i.ok(n(e),"we need a path"),this.parser.parse(e)},c.prototype.parent=function(e,t){i.ok(e instanceof Object,"obj needs to be an object"),i.ok(t,"we need a path");var r=this.nodes(e,t)[0];return r.path.pop(),this.value(e,r.path)},c.prototype.apply=function(e,t,r){i.ok(e instanceof Object,"obj needs to be an object"),i.ok(t,"we need a path"),i.equal(typeof r,"function","fn needs to be function");var n=this.nodes(e,t).sort((function(e,t){return t.path.length-e.path.length}));return n.forEach((function(t){var n=t.path.pop(),i=this.value(e,this.stringify(t.path)),o=t.value=r.call(e,i[n]);i[n]=o}),this),n},c.prototype.value=function(e,t,r){if(i.ok(e instanceof Object,"obj needs to be an object"),i.ok(t,"we need a path"),arguments.length>=3){var n=this.nodes(e,t).shift();if(!n)return this._vivify(e,t,r);var o=n.path.slice(-1).shift();this.parent(e,this.stringify(n.path))[o]=r}return this.query(e,this.stringify(t),1).shift()},c.prototype._vivify=function(e,t,r){var n=this;i.ok(e instanceof Object,"obj needs to be an object"),i.ok(t,"we need a path");var o=this.parser.parse(t).map((function(e){return e.expression.value})),a=function(t,r){var i=t.pop(),o=n.value(e,t);o||(a(t.concat(),"string"==typeof i?{}:[]),o=n.value(e,t)),o[i]=r};return a(o,r),this.query(e,t)[0]},c.prototype.query=function(e,t,r){return i.ok(e instanceof Object,"obj needs to be an object"),i.ok(n(t),"we need a path"),this.nodes(e,t,r).map((function(e){return e.value}))},c.prototype.paths=function(e,t,r){return i.ok(e instanceof Object,"obj needs to be an object"),i.ok(t,"we need a path"),this.nodes(e,t,r).map((function(e){return e.path}))},c.prototype.nodes=function(e,t,r){if(i.ok(e instanceof Object,"obj needs to be an object"),i.ok(t,"we need a path"),0===r)return[];var n=this.parser.parse(t),o=this.handlers,a=[{path:["$"],value:e}],s=[];return n.length&&"root"==n[0].expression.type&&n.shift(),n.length?(n.forEach((function(e,t){if(!(s.length>=r)){var i=o.resolve(e),c=[];a.forEach((function(o){if(!(s.length>=r)){var a=i(e,o,r);t==n.length-1?s=s.concat(a||[]):c=c.concat(a||[])}})),a=c}})),r?s.slice(0,r):s):a},c.prototype.stringify=function(e){i.ok(e,"we need a path");var t="$",r={"descendant-member":"..{{value}}","child-member":".{{value}}","descendant-subscript":"..[{{value}}]","child-subscript":"[{{value}}]"};return(e=this._normalize(e)).forEach((function(e){if("root"!=e.expression.type){var n,i=[e.scope,e.operation].join("-"),o=r[i];if(n="string_literal"==e.expression.type?JSON.stringify(e.expression.value):e.expression.value,!o)throw new Error("couldn't find template "+i);t+=o.replace(/{{value}}/,n)}})),t},c.prototype._normalize=function(e){if(i.ok(e,"we need a path"),"string"==typeof e)return this.parser.parse(e);if(Array.isArray(e)&&"string"==typeof e[0]){var t=[{expression:{type:"root",value:"$"}}];return e.forEach((function(e,r){if("$"!=e||0!==r)if("string"==typeof e&&e.match("^"+o.identifier+"$"))t.push({operation:"member",scope:"child",expression:{value:e,type:"identifier"}});else{var n="number"==typeof e?"numeric_literal":"string_literal";t.push({operation:"subscript",scope:"child",expression:{value:e,type:n}})}})),t}if(Array.isArray(e)&&"object"==typeof e[0])return e;throw new Error("couldn't understand path "+e)},c.Handlers=s,c.Parser=a;var l=new c;l.JSONPath=c,t.exports=l},{"./dict":2,"./handlers":4,"./parser":6,assert:8}],6:[function(e,t,r){var n=e("./grammar"),i=e("../generated/parser"),o=function(){var e=new i.Parser,t=e.parseError;return e.yy.parseError=function(){e.yy.ast&&e.yy.ast.initialize(),t.apply(e,arguments)},e};o.grammar=n,t.exports=o},{"../generated/parser":1,"./grammar":3}],7:[function(e,t,r){function n(e){return String(e).match(/^[0-9]+$/)?parseInt(e):Number.isFinite(e)?parseInt(e,10):0}t.exports=function(e,t,r,i){if("string"==typeof t)throw new Error("start cannot be a string");if("string"==typeof r)throw new Error("end cannot be a string");if("string"==typeof i)throw new Error("step cannot be a string");var o=e.length;if(0===i)throw new Error("step cannot be zero");if(i=i?n(i):1,r=r<0?o+r:r,t=n(0===(t=t<0?o+t:t)?0:t||(i>0?0:o-1)),r=n(0===r?0:r||(i>0?o:-1)),t=i>0?Math.max(0,t):Math.min(o,t),r=i>0?Math.min(r,o):Math.max(-1,r),i>0&&r<=t)return[];if(i<0&&t<=r)return[];for(var a=[],s=t;s!=r&&!(i<0&&s<=r||i>0&&s>=r);s+=i)a.push(e[s]);return a}},{}],8:[function(e,t,r){function n(e,t){return h.isUndefined(t)?""+t:h.isNumber(t)&&!isFinite(t)||h.isFunction(t)||h.isRegExp(t)?t.toString():t}function i(e,t){return h.isString(e)?e.length<t?e:e.slice(0,t):e}function o(e){return i(JSON.stringify(e.actual,n),128)+" "+e.operator+" "+i(JSON.stringify(e.expected,n),128)}function a(e,t,r,n,i){throw new g.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function s(e,t){e||a(e,!0,t,"==",g.ok)}function c(e,t){if(e===t)return!0;if(h.isBuffer(e)&&h.isBuffer(t)){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return h.isDate(e)&&h.isDate(t)?e.getTime()===t.getTime():h.isRegExp(e)&&h.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:h.isObject(e)||h.isObject(t)?u(e,t):e==t}function l(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function u(e,t){if(h.isNullOrUndefined(e)||h.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(h.isPrimitive(e)||h.isPrimitive(t))return e===t;var r=l(e),n=l(t);if(r&&!n||!r&&n)return!1;if(r)return c(e=d.call(e),t=d.call(t));var i,o,a=m(e),s=m(t);if(a.length!=s.length)return!1;for(a.sort(),s.sort(),o=a.length-1;o>=0;o--)if(a[o]!=s[o])return!1;for(o=a.length-1;o>=0;o--)if(!c(e[i=a[o]],t[i]))return!1;return!0}function p(e,t){return!(!e||!t)&&("[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t||!0===t.call({},e))}function f(e,t,r,n){var i;h.isString(r)&&(n=r,r=null);try{t()}catch(e){i=e}if(n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&a(i,r,"Missing expected exception"+n),!e&&p(i,r)&&a(i,r,"Got unwanted exception"+n),e&&i&&r&&!p(i,r)||!e&&i)throw i}var h=e("util/"),d=Array.prototype.slice,y=Object.prototype.hasOwnProperty,g=t.exports=s;g.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=o(this),this.generatedMessage=!0);var t=e.stackStartFunction||a;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=t.name,s=n.indexOf("\n"+i);if(s>=0){var c=n.indexOf("\n",s+1);n=n.substring(c+1)}this.stack=n}}},h.inherits(g.AssertionError,Error),g.fail=a,g.ok=s,g.equal=function(e,t,r){e!=t&&a(e,t,r,"==",g.equal)},g.notEqual=function(e,t,r){e==t&&a(e,t,r,"!=",g.notEqual)},g.deepEqual=function(e,t,r){c(e,t)||a(e,t,r,"deepEqual",g.deepEqual)},g.notDeepEqual=function(e,t,r){c(e,t)&&a(e,t,r,"notDeepEqual",g.notDeepEqual)},g.strictEqual=function(e,t,r){e!==t&&a(e,t,r,"===",g.strictEqual)},g.notStrictEqual=function(e,t,r){e===t&&a(e,t,r,"!==",g.notStrictEqual)},g.throws=function(e,t,r){f.apply(this,[!0].concat(d.call(arguments)))},g.doesNotThrow=function(e,t){f.apply(this,[!1].concat(d.call(arguments)))},g.ifError=function(e){if(e)throw e};var m=Object.keys||function(e){var t=[];for(var r in e)y.call(e,r)&&t.push(r);return t}},{"util/":11}],9:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],10:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],11:[function(e,t,r){(function(t,n){function i(e,t){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(t)?n.showHidden=t:t&&r._extend(n,t),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),c(n,e,n.depth)}function o(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}function c(e,t,n){if(e.customInspect&&t&&P(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return E(i)||(i=c(e,i,n)),i}var o=l(e,t);if(o)return o;var a=Object.keys(t),y=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),R(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return u(t);if(0===a.length){if(P(t)){var g=t.name?": "+t.name:"";return e.stylize("[Function"+g+"]","special")}if(_(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(O(t))return e.stylize(Date.prototype.toString.call(t),"date");if(R(t))return u(t)}var m,S="",v=!1,b=["{","}"];return d(t)&&(v=!0,b=["[","]"]),P(t)&&(S=" [Function"+(t.name?": "+t.name:"")+"]"),_(t)&&(S=" "+RegExp.prototype.toString.call(t)),O(t)&&(S=" "+Date.prototype.toUTCString.call(t)),R(t)&&(S=" "+u(t)),0!==a.length||v&&0!=t.length?n<0?_(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),m=v?p(e,t,n,y,a):a.map((function(r){return f(e,t,n,y,r,v)})),e.seen.pop(),h(m,S,b)):b[0]+S+b[1]}function l(e,t){if(b(t))return e.stylize("undefined","undefined");if(E(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return S(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)w(t,String(a))?o.push(f(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(e,t,r,n,i,!0))})),o}function f(e,t,r,n,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),w(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=g(r)?c(e,l.value,null):c(e,l.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),b(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return null==e}function S(e){return"number"==typeof e}function E(e){return"string"==typeof e}function v(e){return"symbol"==typeof e}function b(e){return void 0===e}function _(e){return x(e)&&"[object RegExp]"===T(e)}function x(e){return"object"==typeof e&&null!==e}function O(e){return x(e)&&"[object Date]"===T(e)}function R(e){return x(e)&&("[object Error]"===T(e)||e instanceof Error)}function P(e){return"function"==typeof e}function C(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function T(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}function A(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),j[e.getMonth()],t].join(" ")}function w(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var k=/%[sdj%]/g;r.format=function(e){if(!E(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(i(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,a=String(e).replace(k,(function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<o;s=n[++r])g(s)||!x(s)?a+=" "+s:a+=" "+i(s);return a},r.deprecate=function(e,i){function o(){if(!a){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),a=!0}return e.apply(this,arguments)}if(b(n.process))return function(){return r.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var a=!1;return o};var N,L={};r.debuglog=function(e){if(b(N)&&(N=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!L[e])if(new RegExp("\\b"+e+"\\b","i").test(N)){var n=t.pid;L[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else L[e]=function(){};return L[e]},r.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=d,r.isBoolean=y,r.isNull=g,r.isNullOrUndefined=m,r.isNumber=S,r.isString=E,r.isSymbol=v,r.isUndefined=b,r.isRegExp=_,r.isObject=x,r.isDate=O,r.isError=R,r.isFunction=P,r.isPrimitive=C,r.isBuffer=e("./support/isBuffer");var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",A(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!x(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,e("_process"),void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":10,_process:14,inherits:9}],12:[function(e,t,r){},{}],13:[function(e,t,r){(function(e){function t(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e){"string"!=typeof e&&(e+="");var t,r=0,n=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){r=t+1;break}}else-1===n&&(i=!1,n=t+1);return-1===n?"":e.slice(r,n)}function i(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}r.resolve=function(){for(var r="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(r=a+"/"+r,n="/"===a.charAt(0))}return(n?"/":"")+(r=t(i(r.split("/"),(function(e){return!!e})),!n).join("/"))||"."},r.normalize=function(e){var n=r.isAbsolute(e),a="/"===o(e,-1);return(e=t(i(e.split("/"),(function(e){return!!e})),!n).join("/"))||n||(e="."),e&&a&&(e+="/"),(n?"/":"")+e},r.isAbsolute=function(e){return"/"===e.charAt(0)},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(i(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},r.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1),t=r.resolve(t).substr(1);for(var i=n(e.split("/")),o=n(t.split("/")),a=Math.min(i.length,o.length),s=a,c=0;c<a;c++)if(i[c]!==o[c]){s=c;break}var l=[];for(c=s;c<i.length;c++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},r.basename=function(e,t){var r=n(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},r.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,n=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===n&&(i=!1,n=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){r=a+1;break}}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===r+1?"":e.slice(t,n)};var o="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,e("_process"))},{_process:14}],14:[function(e,t,r){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(p===setTimeout)return setTimeout(e,0);if((p===n||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){g&&d&&(g=!1,d.length?y=d.concat(y):m=-1,y.length&&c())}function c(){if(!g){var e=o(s);g=!0;for(var t=y.length;t;){for(d=y,y=[];++m<t;)d&&d[m].run();m=-1,t=y.length}d=null,g=!1,a(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var p,f,h=t.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:n}catch(e){p=n}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(e){f=i}}();var d,y=[],g=!1,m=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];y.push(new l(e,t)),1!==y.length||g||o(c)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],15:[function(e,t,r){var n=e("escodegen").generate;t.exports=function(e,t){t||(t={});var r={},i=function e(i,o){if("Literal"===i.type)return i.value;if("UnaryExpression"===i.type){var a=e(i.argument);return"+"===i.operator?+a:"-"===i.operator?-a:"~"===i.operator?~a:"!"===i.operator?!a:r}if("ArrayExpression"===i.type){for(var s=[],c=0,l=i.elements.length;c<l;c++){if((m=e(i.elements[c]))===r)return r;s.push(m)}return s}if("ObjectExpression"===i.type){var u={};for(c=0;c<i.properties.length;c++){var p=null===(S=i.properties[c]).value?S.value:e(S.value);if(p===r)return r;u[S.key.value||S.key.name]=p}return u}if("BinaryExpression"===i.type||"LogicalExpression"===i.type){if((l=e(i.left))===r)return r;var f=e(i.right);if(f===r)return r;var h=i.operator;return"=="===h?l==f:"==="===h?l===f:"!="===h?l!=f:"!=="===h?l!==f:"+"===h?l+f:"-"===h?l-f:"*"===h?l*f:"/"===h?l/f:"%"===h?l%f:"<"===h?l<f:"<="===h?l<=f:">"===h?l>f:">="===h?l>=f:"|"===h?l|f:"&"===h?l&f:"^"===h?l^f:"&&"===h?l&&f:"||"===h?l||f:r}if("Identifier"===i.type)return{}.hasOwnProperty.call(t,i.name)?t[i.name]:r;if("ThisExpression"===i.type)return{}.hasOwnProperty.call(t,"this")?t.this:r;if("CallExpression"===i.type){var d=e(i.callee);if(d===r)return r;if("function"!=typeof d)return r;var y=i.callee.object?e(i.callee.object):r;y===r&&(y=null);var g=[];for(c=0,l=i.arguments.length;c<l;c++){var m;if((m=e(i.arguments[c]))===r)return r;g.push(m)}return d.apply(y,g)}var S;if("MemberExpression"===i.type)return(u=e(i.object))===r||"function"==typeof u?r:"Identifier"===i.property.type?u[i.property.name]:(S=e(i.property))===r?r:u[S];if("ConditionalExpression"===i.type)return(a=e(i.test))===r?r:e(a?i.consequent:i.alternate);if("ExpressionStatement"===i.type)return(a=e(i.expression))===r?r:a;if("ReturnStatement"===i.type)return e(i.argument);if("FunctionExpression"===i.type){var E=i.body.body,v={};for(Object.keys(t).forEach((function(e){v[e]=t[e]})),c=0;c<i.params.length;c++){var b=i.params[c];if("Identifier"!=b.type)return r;t[b.name]=null}for(var c in E)if(e(E[c])===r)return r;t=v;var _=Object.keys(t),x=_.map((function(e){return t[e]}));return Function(_.join(", "),"return "+n(i)).apply(null,x)}if("TemplateLiteral"===i.type){var O="";for(c=0;c<i.expressions.length;c++)O+=e(i.quasis[c]),O+=e(i.expressions[c]);return O+e(i.quasis[c])}if("TaggedTemplateExpression"===i.type){var R=e(i.tag),P=i.quasi,C=P.quasis.map(e),T=P.expressions.map(e);return R.apply(null,[C].concat(T))}return"TemplateElement"===i.type?i.value.cooked:r}(e);return i===r?void 0:i}},{escodegen:12}],jsonpath:[function(e,t,r){t.exports=e("./lib/index")},{"./lib/index":5}]},{},["jsonpath"])("jsonpath")})),Rule=function(){function e(t){_classCallCheck(this,e),this.tags=t.tags,this.pattern=t.pattern,this.jsonPaths=t.jsonPaths}return _createClass(e,[{key:"apply",value:function(e){var t=this,r=e;if(this.pattern&&(r=this.applyPattern(e)),this.jsonPaths&&this.jsonPaths.length>0)try{var n=JSON.parse(e);this.jsonPaths.forEach((function(e){jsonpath_min.apply(n,e,(function(e){return t.applyJsonPath(e)}))})),r=JSON.stringify(n)}catch(e){}return r}},{key:"applyPattern",value:function(e){return e}},{key:"applyJsonPath",value:function(e){return e}}]),e}(),DEFAULT_KEY="3zNm$fAuQ-(TG{z",HashRule=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),(n=t.call(this,e)).key=e.key||DEFAULT_KEY,n}return _createClass(r,[{key:"applyPattern",value:function(e){return e.replace(this.pattern,this.hash(e))}},{key:"applyJsonPath",value:function(e){return e.replace(e,this.hash(e))}},{key:"hash",value:function(e){return Buffer.from(sha256.sha256.hmac(this.key,e)).toString("base64")}}]),r}(Rule),IS_CONCAT_SPREADABLE=wellKnownSymbol("isConcatSpreadable"),MAX_SAFE_INTEGER=9007199254740991,MAXIMUM_ALLOWED_INDEX_EXCEEDED="Maximum allowed index exceeded",IS_CONCAT_SPREADABLE_SUPPORT=engineV8Version>=51||!fails((function(){var e=[];return e[IS_CONCAT_SPREADABLE]=!1,e.concat()[0]!==e})),SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("concat"),isConcatSpreadable=function(e){if(!isObject(e))return!1;var t=e[IS_CONCAT_SPREADABLE];return void 0!==t?!!t:isArray(e)},FORCED$1=!IS_CONCAT_SPREADABLE_SUPPORT||!SPECIES_SUPPORT;_export({target:"Array",proto:!0,forced:FORCED$1},{concat:function(e){var t,r,n,i,o,a=toObject(this),s=arraySpeciesCreate(a,0),c=0;for(t=-1,n=arguments.length;t<n;t++)if(isConcatSpreadable(o=-1===t?a:arguments[t])){if(c+(i=toLength(o.length))>MAX_SAFE_INTEGER)throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);for(r=0;r<i;r++,c++)r in o&&createProperty(s,c,o[r])}else{if(c>=MAX_SAFE_INTEGER)throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);createProperty(s,c++,o)}return s.length=c,s}});var stringRepeat="".repeat||function(e){var t=String(requireObjectCoercible(this)),r="",n=toInteger(e);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(r+=t);return r},ceil$1=Math.ceil,createMethod$3=function(e){return function(t,r,n){var i,o,a=String(requireObjectCoercible(t)),s=a.length,c=void 0===n?" ":String(n),l=toLength(r);return l<=s||""==c?a:(i=l-s,(o=stringRepeat.call(c,ceil$1(i/c.length))).length>i&&(o=o.slice(0,i)),e?a+o:o+a)}},stringPad={start:createMethod$3(!1),end:createMethod$3(!0)},stringPadWebkitBug=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(engineUserAgent),$padStart=stringPad.start;_export({target:"String",proto:!0,forced:stringPadWebkitBug},{padStart:function(e){return $padStart(this,e,arguments.length>1?arguments[1]:void 0)}});var $indexOf=arrayIncludes.indexOf,nativeIndexOf=[].indexOf,NEGATIVE_ZERO=!!nativeIndexOf&&1/[1].indexOf(1,-0)<0,STRICT_METHOD$2=arrayMethodIsStrict("indexOf"),USES_TO_LENGTH$5=arrayMethodUsesToLength("indexOf",{ACCESSORS:!0,1:0});_export({target:"Array",proto:!0,forced:NEGATIVE_ZERO||!STRICT_METHOD$2||!USES_TO_LENGTH$5},{indexOf:function(e){return NEGATIVE_ZERO?nativeIndexOf.apply(this,arguments)||0:$indexOf(this,e,arguments.length>1?arguments[1]:void 0)}});var min$3=Math.min,nativeLastIndexOf=[].lastIndexOf,NEGATIVE_ZERO$1=!!nativeLastIndexOf&&1/[1].lastIndexOf(1,-0)<0,STRICT_METHOD$3=arrayMethodIsStrict("lastIndexOf"),USES_TO_LENGTH$6=arrayMethodUsesToLength("indexOf",{ACCESSORS:!0,1:0}),FORCED$2=NEGATIVE_ZERO$1||!STRICT_METHOD$3||!USES_TO_LENGTH$6,arrayLastIndexOf=FORCED$2?function(e){if(NEGATIVE_ZERO$1)return nativeLastIndexOf.apply(this,arguments)||0;var t=toIndexedObject(this),r=toLength(t.length),n=r-1;for(arguments.length>1&&(n=min$3(n,toInteger(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in t&&t[n]===e)return n||0;return-1}:nativeLastIndexOf;_export({target:"Array",proto:!0,forced:arrayLastIndexOf!==[].lastIndexOf},{lastIndexOf:arrayLastIndexOf});var HAS_SPECIES_SUPPORT$3=arrayMethodHasSpeciesSupport("splice"),USES_TO_LENGTH$7=arrayMethodUsesToLength("splice",{ACCESSORS:!0,0:0,1:2}),max$3=Math.max,min$4=Math.min,MAX_SAFE_INTEGER$1=9007199254740991,MAXIMUM_ALLOWED_LENGTH_EXCEEDED="Maximum allowed length exceeded";function MultiRegExp(e){var t,r=this;if(void 0!==e.source)t=e;else{var n=e,i="";if("/"===e.substring(0,1)){var o=e.lastIndexOf("/");i=e.substring(o+1,e.length),n=e.substring(1,o)}t=new RegExp(n,i)}var a=function(e){var t={pos:-1,length:0,text:"",children:[],type:"brace"},r=3,n=1,i=/^(?:\\.|[^)\\(])*\(\?./.exec(e);if(null==i&&(i=/^(?:\\.|[^)\\(])*\(/.exec(e),r=1),null!=i){t.pos=i[0].length-r,t.children=s(e.substring(i[0].length));for(var o=0;o<t.children.length;o+=1)t.children[o].pos+=r;var a=t.children.length<=0?t.pos+r:t.children[t.children.length-1].pos+t.children[t.children.length-1].length+i[0].length-r,c=/^(?:\\.|[^\\()])*\)/.exec(e.substring(a)),l=/^(?:\\.|[^\\()])*\)\?/.exec(e.substring(a));if(null!==l&&l.length-1<=c.length&&(c=l,n=2),null==c)return null;t.length=c[0].length+a-t.pos,t.text=e.substring(t.pos,t.pos+t.length)}if("()"===t.text||/^\(\?.\)$/.test(t.text))throw new Error("empty braces not permitted");return-1!==t.pos&&(t.pre=t.text.substring(0,r),t.post=t.text.substring(t.text.length-n,t.text.length)),-1===t.pos?null:t},s=function(e){var t,r=[],n=0;do{if(null==(t=a(e)))break;e=e.substring(t.pos+t.length);var i=t.pos+t.length;t.pos+=n,n+=i,r.push(t)}while(t);return r},c=t.source,l=s(c);!function e(t,r){for(var n=t,i=r,o=!1,a=0;a<t.length;a+=1)if(e(t[a].children,t[a]),n[a].isCapture=0!==t[a].text.indexOf("(?:"),t[a].isCapture&&(o=!0),t[a].isCapture&&t[a].containsCapture)throw new Error("nested captures not permitted, use (?:...) where capture is not intended");r&&(i.containsCapture=o)}(l),function e(t,r){var n=/^\((\?.)?/.exec(r);n=null==n?"":n[0];var i=/\)$/.exec(r);i=null==i?"":i[0];var o=0;for(t.length>0&&e(t[0].children,t[0].text),t.length>0&&t[0].pos>n.length&&(t.splice(0,0,{type:"raw",pos:n.length,length:t[0].pos,text:r.substring(n.length,t[0].pos)}),o+=1),o+=1;o<t.length;o+=1)e(t[o].children,t[o].text),t[o].pos>t[o-1].pos+t[o-1].length&&(t.splice(o,0,{type:"raw",pos:t[o-1].pos+t[o-1].length,length:t[o].pos-(t[o-1].pos+t[o-1].length),text:r.substring(t[o-1].pos+t[o-1].length,t[o].pos)}),o+=1);if(0===t.length)t.push({type:"raw",pos:n.length,length:r.length-i.length-n.length,text:r.substring(n.length,r.length-i.length)});else if(t[t.length-1].pos+t[t.length-1].length<r.length-i.length){var a=t[t.length-1].pos+t[t.length-1].length,s=r.substring(a,r.length-i.length);t.push({type:"raw",pos:a,length:s.length,text:s})}}(l,c),function e(t){for(var r=t,n=/^(\\.|[^\\|])*\|/,i=0;i<r.length;i+=1)if("raw"===r[i].type){var o=r[i].text,a=n.exec(o);if(null!=a){var s={type:"or",pos:a[0].length-1+r[i].pos,length:1,text:"|"},c={type:"raw",pos:a[0].length+t[i].pos,length:o.length-a[0].length,text:o.substring(a[0].length,o.length)};r[i].text=o.substring(0,a[0].length-1),r[i].length=r[i].text.length,r.splice(i+1,0,s,c),i+=1}}else"brace"===r[i].type&&e(r[i].children,r[i].text)}(l);var u={i:1,next:function(e){return e&&this.points.push(this.i),this.i+=1,this.i},points:[]};c=function e(t,r){for(var n="",i=0;i<t.length;i+=1)"raw"===t[i].type?(n+="(".concat(t[i].text,")"),r.next()):"brace"===t[i].type&&t[i].containsCapture?n+=t[i].pre+e(t[i].children,r)+t[i].post:"brace"!==t[i].type||t[i].isCapture?"brace"===t[i].type?(n+=t[i].text,r.next(!0)):n+=t[i].text:(n+="(".concat(t[i].text.substring(t[i].pre.length,t[i].text.length-t[i].post.length),")"),r.next());return n}(l,u),this.dataPoints=u.points;var p=(t.ignoreCase?"i":"")+(t.global?"g":"")+(t.multiline?"m":"");this.regex=new RegExp(c,p),this.exec=function(e){var t=r.regex.exec(e);if(null==t)return{};for(var n={},i=0,o=1;o<t.length;o+=1)if(null!==t[o]&&void 0!==t[o]){var a=r.dataPoints.indexOf(o);-1!==a&&(n[a]={index:i,text:t[o]}),i+=t[o].length}for(var s=0;s<r.dataPoints.length;s+=1)void 0===n[s]&&(n[s]=null);return n}}_export({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$3||!USES_TO_LENGTH$7},{splice:function(e,t){var r,n,i,o,a,s,c=toObject(this),l=toLength(c.length),u=toAbsoluteIndex(e,l),p=arguments.length;if(0===p?r=n=0:1===p?(r=0,n=l-u):(r=p-2,n=min$4(max$3(toInteger(t),0),l-u)),l+r-n>MAX_SAFE_INTEGER$1)throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);for(i=arraySpeciesCreate(c,n),o=0;o<n;o++)(a=u+o)in c&&createProperty(i,o,c[a]);if(i.length=n,r<n){for(o=u;o<l-n;o++)s=o+r,(a=o+n)in c?c[s]=c[a]:delete c[s];for(o=l;o>l-n+r;o--)delete c[o-1]}else if(r>n)for(o=l-n;o>u;o--)s=o+r-1,(a=o+n-1)in c?c[s]=c[a]:delete c[s];for(o=0;o<r;o++)c[o+u]=arguments[o+2];return c.length=l-n+r,i}});var MaskRule=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),(n=t.call(this,e)).mask=new MultiRegExp(e.mask),n.maskChar=e.maskChar,n}return _createClass(r,[{key:"applyPattern",value:function(e){for(var t=e,r=this.pattern.exec(e);null!==r;){var n=r[0],i=this.maskString(n);t=t.replace(n,i),r=this.pattern.exec(e)}return t}},{key:"applyJsonPath",value:function(e){return this.maskString(e)}},{key:"maskString",value:function(e){var t=this.mask.exec(e),r=e.substring(0,t[0].index),n="".padStart(t[0].text.length,"*"),i=e.substring(t[0].index+t[0].text.length,e.length);return"".concat(r).concat(n).concat(i)}}]),r}(Rule),ReplaceRule=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),(n=t.call(this,e)).replacement=e.replacement,n}return _createClass(r,[{key:"applyPattern",value:function(e){return e.replace(this.pattern,this.replacement)}},{key:"applyJsonPath",value:function(e){return e.replace(e,this.replacement)}}]),r}(Rule),RemoveRule=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),(n=t.call(this,e)).replacement="",n}return r}(ReplaceRule);function getRuleClass(e){switch(e.toLowerCase()){case"hash":return HashRule;case"mask":return MaskRule;case"remove":return RemoveRule;case"replace":return ReplaceRule;default:throw new Error("Unsupported rule ".concat(e))}}var PiiRuleService=function(){function e(t){_classCallCheck(this,e),this.piiPatternService=t,this.rules={}}return _createClass(e,[{key:"addRules",value:function(e){var t=this;Object.keys(e).forEach((function(r){var n=e[r],i=n.patterns.filter((function(e){return"regex"===t.piiPatternService.patterns[e].kind})).map((function(e){return"(\\b".concat(t.piiPatternService.patterns[e].pattern.pattern,"\\b)")}));n.pattern=i.length>0?new RegExp(i.join("|"),"g"):void 0,n.jsonPaths=n.patterns.filter((function(e){return"json"===t.piiPatternService.patterns[e].kind})).map((function(e){return t.piiPatternService.patterns[e].path}));var o=getRuleClass(n.kind.charAt(0).toUpperCase()+n.kind.slice(1));t.rules[r]=new o(n)}))}},{key:"applyRules",value:function(e){var t=this,r=e;return Object.keys(this.rules).forEach((function(e){r=t.rules[e].apply(r)})),r}},{key:"getRule",value:function(e){return this.rules[e]}},{key:"getRules",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r={};return Object.keys(this.rules).filter((function(r){var n=e.rules[r];return n.tags&&n.tags.find((function(e){return t.find((function(t){return e===t}))}))})).forEach((function(t){r[t]=e.rules[t]})),r}}]),e}(),PiiInstance=function e(){_classCallCheck(this,e),this.piiPatternService=new PiiPatternService,this.piiRuleService=new PiiRuleService(this.piiPatternService)},piiFactory={build:function(e){var t=new PiiInstance;return t.piiPatternService.addPatterns(e.patterns),t.piiRuleService.addRules(e.rules),t}},lyraPii={build:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n={patterns:r.patterns,rules:r.rules};return e&&(n.patterns=_objectSpread2(_objectSpread2({},t.patterns),r.patterns)),e&&(n.rules=_objectSpread2(_objectSpread2({},t.rules),r.rules)),piiFactory.build(n)}},data$1={patterns:{accord:{kind:"regex",pattern:"503202\\d{13}",tags:["pan"]},american_express:{kind:"regex",pattern:"3[47][0-9]{13}",tags:["pan"]},diners_club:{kind:"regex",pattern:"3(?:0[0-5]|[68][0-9])[0-9]{11,13}",tags:["pan"]},discover:{kind:"regex",pattern:"6(?:011|5[0-9]{2})[0-9]{12}",tags:["pan"]},jcb:{kind:"regex",pattern:"(?:2131|1800|35\\d{3})\\d{11,14}",tags:["pan"]},maestro:{kind:"regex",pattern:"(?:5[0678]\\d\\d|6304|6390|67\\d\\d)\\d{8,15}",tags:["pan"]},mastercard:{kind:"regex",pattern:"(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}",tags:["pan"]},union_pay:{kind:"regex",pattern:"(62[0-9]{14,17})",tags:["pan"]},visa:{kind:"regex",pattern:"4[0-9]{12}(?:[0-9]{3})?",tags:["pan"]},visa_electron:{kind:"regex",pattern:"(?:4026|4508|4844|4913|4917)\\d{12}|417500\\d{10}",tags:["pan"]},insee:{kind:"regex",pattern:"(?:[12])(?:[0-9]{2}(?:0[1-9]|1[0-2]))(?:2[AB]|[0-9]{2})(?:[0-9]{6})(?:[0-9]{2})?"},ip_v4:{kind:"regex",pattern:"\\b(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\b"},ip_v6:{kind:"regex",pattern:"\\b((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\b"},mac:{kind:"regex",pattern:"(?:[a-zA-Z0-9]{2}[:-]){5}[a-zA-Z0-9]{2}"},email:{kind:"regex",pattern:"[\\w.-]+@([\\w-]+)\\.+\\w{2,}"},iban:{kind:"regex",pattern:"[A-Za-z]{2}[0-9]{2}(?:[0-9A-Za-z]{11,30})"}},rules:{pan:{kind:"mask",mask:"^....(.*)....$","mask-char":"*",patterns:["accord","american_express","diners_club","discover","jcb","maestro","mastercard","union_pay","visa","visa_electron"],tags:["pan","pci","gpdr"]},insee:{kind:"replace",replacement:"<INSEE>",patterns:["insee"],tags:["gpdr"]},ip:{kind:"replace",replacement:"<IP>",patterns:["ip_v4","ip_v6"],tags:["gpdr"]},mac:{kind:"replace",replacement:"<MAC>",patterns:["mac"],tags:["gpdr"]},email:{kind:"replace",replacement:"<EMAIL>",patterns:["email"],tags:["gpdr"]},iban:{kind:"replace",replacement:"<IBAN>",patterns:["iban"],tags:["gpdr"]}}},lyraPii_browser={getDefaults:function(){return data$1},build:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loadDefaultRules:!0,rules:{}};return lyraPii.build(e.loadDefaultRules,data$1,e.rules)}};return lyraPii_browser}));//# sourceMappingURL=lyra-pii.umd.js.map
